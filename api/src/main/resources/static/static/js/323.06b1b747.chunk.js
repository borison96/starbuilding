"use strict";(self.webpackChunkstartbuilding=self.webpackChunkstartbuilding||[]).push([[323],{4291:function(t,e,n){n.r(e),n.d(e,{default:function(){return tt}});var a=n(2791),l=n(6871),i=n(1413),o=n(9439),r=n(3174),d=n(5897),s=n(3504),u=n(5405),c=n(1381),v=n(7556),h=n(9791),f=n(6618),m=n(184),p=function(t){var e=t.show,n=t.onClick;return(0,m.jsx)("button",{onClick:n,type:"button",style:{textDecoration:"underline",fontSize:12,padding:"0 15px"},children:e?"Cacher":"Afficher"})},x=n(4483),g=n(7280),Z=n(3688),j=n(6089),y=n(4925),P=["fill","background","style"],w=function(t){var e=t.fill,n=t.background,a=t.style,l=(0,y.Z)(t,P);return(0,m.jsxs)("svg",(0,i.Z)((0,i.Z)({},l),{},{xmlns:"http://www.w3.org/2000/svg",style:(0,i.Z)((0,i.Z)({},{height:"1.5em",width:"1.5em",transform:"translateX(-15%)",cursor:"pointer",border:"none",outline:"none"}),null!==a&&void 0!==a?a:{}),viewBox:"0 0 100 100",children:[(0,m.jsx)("circle",{cx:"50",cy:"50",r:"50",fill:n}),(0,m.jsx)("g",{transform:"translate(25 20)",children:(0,m.jsx)("path",{id:"Path_938","data-name":"Path 938",d:"M21.858,18.895a11.972,11.972,0,1,0-3.683,3.391L27,31.062a2.506,2.506,0,0,0,3.634-3.452c-.03-.032-.059-.061-.091-.091Zm-9.78.818a7.716,7.716,0,1,1,.005,0Zm0,0",transform:"scale(1.5)",fill:null!==e&&void 0!==e?e:"#fff"})})]}))},k=n(3280),N=(n(9554),function(t){var e,n,a,l=t.org,i=t.selected,o=t.onClick;return(0,m.jsxs)("div",{className:"select-org-card ".concat(l.id===i?"selected":""),tabIndex:0,role:"button",onClick:function(){return o?o(l):null},children:[(0,m.jsx)("div",{style:{flex:"1 100px"},children:(0,m.jsx)("img",{alt:null!==(e=l.name)&&void 0!==e?e:"",src:null!==(n=l.picture)&&void 0!==n?n:k.Z,style:{width:"40%",objectFit:"cover",objectPosition:"top"}})}),(0,m.jsxs)("div",{title:l.address,style:{flex:"1 300px"},children:[(0,m.jsx)("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:null!==(a=l.corporateName)&&void 0!==a?a:l.name}),l.code||l.description||l.address?(0,m.jsx)("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:l.description||l.address||l.code}):null]})]})}),b=n(780),C=n(9656),_=function(t){return(0,b.ZP)("/public/users/organisations/search?q=".concat(t)).then((function(t){var e;return null===t||void 0===t||null===(e=t.content)||void 0===e?void 0:e.content}))},M=function(t,e){return(0,b.ZP)(C.B6.$JOIN(t),{value:e},void 0,"POST")},S=function(t){var e=t.onSubmitOrg,n=t.selectedOrg,i=t.setSelectedOrg,h=(0,d.$)().t,p=(0,a.useState)(""),y=(0,o.Z)(p,2),P=y[0],k=y[1],b=(0,a.useState)([]),C=(0,o.Z)(b,2),S=C[0],A=C[1],E=(0,a.useState)([]),O=(0,o.Z)(E,2),D=(O[0],O[1],(0,a.useState)([])),R=(0,o.Z)(D,2),H=R[0],L=R[1],F=(0,a.useState)([]),B=(0,o.Z)(F,2),q=B[0],T=B[1],V=(0,a.useState)(0),z=(0,o.Z)(V,2),I=z[0],$=(z[1],(0,a.useState)(0)),U=(0,o.Z)($,2),G=U[0],K=(U[1],(0,a.useState)(!1)),Y=(0,o.Z)(K,2),W=Y[0],X=Y[1],J=(0,a.useState)(""),Q=(0,o.Z)(J,2),tt=Q[0],et=Q[1],nt=(0,a.useRef)(),at=(0,a.useRef)(),lt=(0,s.lr)(),it=(0,o.Z)(lt,2)[1],ot=(0,l.s0)(),rt=(0,u.I)(),dt=(0,u.v)((function(t){return t.user}));(0,a.useEffect)((function(){dt?clearTimeout(at.current):(clearTimeout(at.current),at.current=setTimeout((function(){return ot(c.H.AUTH+"/login")}),300))}),[dt]),(0,a.useEffect)((function(){Z.w.listCreated(I).then((function(t){var e,n,a,l;null!==t&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.content&&L(null!==(n=null===t||void 0===t||null===(a=t.data)||void 0===a||null===(l=a.content)||void 0===l?void 0:l.content)&&void 0!==n?n:[])}))}),[I]),(0,a.useEffect)((function(){Z.w.listJoined(I).then((function(t){var e,n,a,l;null!==t&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.content&&T(null!==(n=null===t||void 0===t||null===(a=t.data)||void 0===a||null===(l=a.content)||void 0===l?void 0:l.content)&&void 0!==n?n:[])}))}),[G]);var st=function(t){var e;null===t||void 0===t||t.stopPropagation(),t&&clearTimeout(nt.current),(null!==t&&void 0!==t&&t.key&&"enter"===(null===t||void 0===t||null===(e=t.key)||void 0===e?void 0:e.toLowerCase())||null===t||void 0===t||!t.key)&&P&&(X(!0),_(P).then((function(t){X(!1),A(t)})))},ut=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];i(t),e?(rt((0,v.vE)(t)),ot(c.H.DASHBOARD)):Z.w.isMember().then((function(e){var n,a,l;(!Array.isArray(null===(n=e.data)||void 0===n?void 0:n.errors)||(null===(a=e.data)||void 0===a||null===(l=a.errors)||void 0===l?void 0:l.length)<1)&&(rt((0,v.vE)(t)),ot(c.H.DASHBOARD))}))};return(0,m.jsxs)(m.Fragment,{children:[(null===H||void 0===H?void 0:H.length)>0?(0,m.jsxs)("div",{style:{maxHeight:500,overflowY:"auto",padding:"0 20px"},className:"auth-content-cc",children:[(0,m.jsxs)("p",{style:{textDecoration:"underline",margin:"30px 15px"},children:[h("created-orgs")," :"]}),H.map((function(t){var e;return(0,m.jsx)(N,{org:t,selected:null!==(e=null===n||void 0===n?void 0:n.id)&&void 0!==e?e:"",onClick:function(){return ut(t)}},t.id)}))]}):null,(null===q||void 0===q?void 0:q.length)>0?(0,m.jsxs)("div",{style:{maxHeight:500,overflowY:"auto",padding:"0 20px"},className:"auth-content-cc",children:[(0,m.jsxs)("p",{style:{textDecoration:"underline",margin:"30px 15px"},children:[h("joined-orgs")," :"]}),q.map((function(t){var e;return(0,m.jsx)(N,{org:null===t||void 0===t?void 0:t.organisation,selected:null!==(e=null===n||void 0===n?void 0:n.id)&&void 0!==e?e:"",onClick:function(){return ut(t.organisation)}},t.organisation.id)}))]}):null,(0,m.jsxs)("div",{className:"auth-content-cc-cc",children:[(0,m.jsxs)("div",{className:"auth-content-cc align-center",children:[(0,m.jsx)(f.Z,{type:"text",title:h("find-your-organisation"),onChange:function(t){var e;null===t||void 0===t||t.stopPropagation(),k(null===t||void 0===t||null===(e=t.target)||void 0===e?void 0:e.value),clearTimeout(nt.current),nt.current=setTimeout(st,1e3)},onKeyDown:st,icon:W?(0,m.jsx)(g.Z,{animation:"border",style:{marginRight:15},variant:"secondary"}):(0,m.jsx)(w,{background:"#959595",style:{transform:"scale(1.4)",marginRight:15},onClick:st})}),(null===S||void 0===S?void 0:S.length)>0?(0,m.jsxs)("div",{style:{marginBottom:15},children:[(0,m.jsxs)("div",{style:{maxHeight:500,overflowY:"auto",padding:"0 20px"},children:[(0,m.jsxs)("p",{style:{textDecoration:"underline",margin:"30px 15px"},children:[h("organisation-found")," :"]}),S.map((function(t){return(0,m.jsx)(N,{org:t,selected:null===n||void 0===n?void 0:n.id,onClick:function(){return ut(t,!1)}},t.id)}))]}),tt?(0,m.jsx)("p",{style:{color:"#E33F1A",fontSize:12,textAlign:"center"},children:tt}):null,(0,m.jsx)(f.Z,{type:"submit",iconName:r.yOZ,title:h("request-access"),onClick:function(){null!==n&&void 0!==n&&n.id?null!==dt&&void 0!==dt&&dt.email?M(null===n||void 0===n?void 0:n.id,null===dt||void 0===dt?void 0:dt.email).then((function(t){var e;Array.isArray(null===t||void 0===t?void 0:t.errors)&&(null===t||void 0===t||null===(e=t.errors)||void 0===e?void 0:e.length)>0?et(h("request-not-sent")):it({step:"5"})})).catch((function(t){et(h("request-not-sent"))})):et(h("cant-join-rather-connect")):et(h("select-org-error"))}})]}):null]}),(0,m.jsxs)("div",{className:"flex-content",children:[(0,m.jsx)("div",{style:{flex:1,margin:5},children:(0,m.jsx)(j.Z,{onClick:function(){return it({step:"create_org"})},style:{border:"1px solid #959595",background:"#1E2432",color:"#fff"},round:!0,icon:(0,m.jsx)(x.G,{icon:r.yOZ}),children:h("create_organisation")})}),(0,m.jsx)("div",{style:{flex:1,margin:5},children:(0,m.jsx)(j.Z,{onClick:e,style:{border:"1px solid #959595",background:"#EBEBEB"},round:!0,icon:(0,m.jsx)(x.G,{icon:r.yOZ}),children:h("skip-step")})})]})]})]})},A=n(4942),E=["fill","background","style"],O=function(t){var e=t.fill,n=t.background,a=t.style,l=(0,y.Z)(t,E);return(0,m.jsx)("svg",(0,i.Z)((0,i.Z)({},l),{},{tabIndex:0,role:"button",style:(0,i.Z)((0,i.Z)({},{height:"1.5em",width:"1.5em",transform:"translateX(-15%)",cursor:"pointer",border:"none",outline:"none"}),null!==a&&void 0!==a?a:{}),viewBox:"0 0 100 100",fill:null!==n&&void 0!==n?n:"#F3BE3D",children:(0,m.jsxs)("g",{id:"_002-architect-1","data-name":"002-architect-1",transform:"translate(0 0)",children:[(0,m.jsx)("path",{id:"Path_779","data-name":"Path 779",d:"M11.229,46.121a.368.368,0,0,1-.153-.033L.2,41.131a.323.323,0,0,1-.163-.441A.362.362,0,0,1,.5,40.536l10.726,4.887,10.726-4.887a.362.362,0,0,1,.469.154.323.323,0,0,1-.163.441L11.382,46.088a.37.37,0,0,1-.153.033Z",transform:"translate(0.001 -26.364)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_780","data-name":"Path 780",d:"M11.229,51.121a.368.368,0,0,1-.153-.033L.2,46.131a.323.323,0,0,1-.163-.441A.362.362,0,0,1,.5,45.536l10.726,4.887,10.726-4.887a.361.361,0,0,1,.469.154.323.323,0,0,1-.163.441L11.382,51.088a.37.37,0,0,1-.153.033Z",transform:"translate(0.001 -29.71)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_781","data-name":"Path 781",d:"M.33,42.816a.33.33,0,0,1-.33-.33V40.833a.33.33,0,0,1,.661,0v1.652A.33.33,0,0,1,.33,42.816Z",transform:"translate(0.001 -26.709)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_782","data-name":"Path 782",d:"M62.33,42.816a.33.33,0,0,1-.33-.33V40.833a.33.33,0,0,1,.661,0v1.652A.33.33,0,0,1,62.33,42.816Z",transform:"translate(-40.201 -26.709)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_783","data-name":"Path 783",d:"M31.33,57.816a.33.33,0,0,1-.33-.33V55.833a.33.33,0,0,1,.661,0v1.652A.33.33,0,0,1,31.33,57.816Z",transform:"translate(-20.1 -36.407)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_784","data-name":"Path 784",d:"M41.357,53.825a.33.33,0,0,1,0-.661h0a.33.33,0,0,1,0,.661Z",transform:"translate(-26.601 -34.841)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_785","data-name":"Path 785",d:"M56.357,46.567a.33.33,0,0,1,0-.661h0a.33.33,0,1,1,0,.661Z",transform:"translate(-36.2 -30.29)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_786","data-name":"Path 786",d:"M51.357,48.986a.33.33,0,0,1,0-.661h0a.33.33,0,0,1,0,.661Z",transform:"translate(-33.085 -31.858)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_787","data-name":"Path 787",d:"M46.357,51.406a.33.33,0,0,1,0-.661h0a.33.33,0,1,1,0,.661Z",transform:"translate(-29.843 -33.22)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_788","data-name":"Path 788",d:"M36.357,56.245a.33.33,0,0,1,0-.661h0a.33.33,0,0,1,0,.661Z",transform:"translate(-23.359 -36.46)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_789","data-name":"Path 789",d:"M21.357,53.825a.33.33,0,0,1,0-.661h0a.33.33,0,0,1,0,.661Z",transform:"translate(-13.632 -34.841)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_790","data-name":"Path 790",d:"M6.357,46.567a.33.33,0,0,1,0-.661h0a.33.33,0,1,1,0,.661Z",transform:"translate(-4.033 -30.29)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_791","data-name":"Path 791",d:"M11.357,48.986a.33.33,0,0,1,0-.661h0a.33.33,0,1,1,0,.661Z",transform:"translate(-7.148 -31.858)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_792","data-name":"Path 792",d:"M16.357,51.406a.33.33,0,0,1,0-.661h0a.33.33,0,1,1,0,.661Z",transform:"translate(-10.39 -33.22)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_793","data-name":"Path 793",d:"M26.357,56.245a.33.33,0,0,1,0-.661h0a.33.33,0,0,1,0,.661Z",transform:"translate(-16.874 -36.46)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_794","data-name":"Path 794",d:"M17.213,31.664a.33.33,0,0,1-.144-.628l1.361-.658a.331.331,0,1,1,.288.6l-1.361.658A.335.335,0,0,1,17.213,31.664Z",transform:"translate(-10.921 -20.179)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_795","data-name":"Path 795",d:"M.331,37.474a.33.33,0,0,1-.144-.628l3.766-1.822a.331.331,0,1,1,.288.6L.475,37.441a.331.331,0,0,1-.144.033Z",transform:"translate(0 -23.14)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_796","data-name":"Path 796",d:"M42.69,31.662a.33.33,0,0,1-.144-.033l-1.359-.658a.331.331,0,0,1,.288-.6l1.359.658a.331.331,0,0,1-.144.628Z",transform:"translate(-26.523 -20.179)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_797","data-name":"Path 797",d:"M54.7,37.471a.33.33,0,0,1-.144-.033l-3.766-1.822a.331.331,0,1,1,.288-.6l3.766,1.822a.331.331,0,0,1-.144.628Z",transform:"translate(-32.569 -23.138)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_798","data-name":"Path 798",d:"M24.635,42.818a.331.331,0,0,1-.148-.035l-3.3-1.653a.331.331,0,1,1,.3-.591l3.156,1.579,3.157-1.579a.331.331,0,1,1,.3.591l-3.3,1.653A.333.333,0,0,1,24.635,42.818Z",transform:"translate(-13.404 -26.711)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_799","data-name":"Path 799",d:"M24.635,8.811a.331.331,0,0,1-.148-.035l-3.3-1.653a.331.331,0,1,1,.3-.591l3.156,1.579,3.157-1.579a.331.331,0,0,1,.3.591l-3.3,1.653A.333.333,0,0,1,24.635,8.811Z",transform:"translate(-13.404 -4.844)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_800","data-name":"Path 800",d:"M27.939,3.81a.331.331,0,0,1-.147-.035L24.634,2.2,21.478,3.775a.331.331,0,1,1-.3-.591l3.3-1.653a.33.33,0,0,1,.3,0l3.3,1.653a.331.331,0,0,1-.148.626Z",transform:"translate(-13.404 -1.496)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_801","data-name":"Path 801",d:"M31.33,23.4a.33.33,0,0,1-.33-.33V11.827a.33.33,0,1,1,.661,0V23.065A.33.33,0,0,1,31.33,23.4Z",transform:"translate(-20.1 -7.692)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_802","data-name":"Path 802",d:"M41.33,18.395a.33.33,0,0,1-.33-.33V6.826a.33.33,0,1,1,.661,0V18.064A.33.33,0,0,1,41.33,18.395Z",transform:"translate(-26.585 -4.844)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_803","data-name":"Path 803",d:"M21.33,18.395a.33.33,0,0,1-.33-.33V6.826a.33.33,0,0,1,.661,0V18.064A.33.33,0,0,1,21.33,18.395Z",transform:"translate(-13.616 -4.844)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_804","data-name":"Path 804",d:"M25.65,38.322a.331.331,0,0,1-.147-.035l-1.322-.661a.331.331,0,1,1,.3-.591L25.8,37.7a.33.33,0,0,1-.148.626Z",transform:"translate(-15.525 -24.49)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_805","data-name":"Path 805",d:"M25.65,34.322a.331.331,0,0,1-.147-.035l-1.322-.661a.331.331,0,1,1,.3-.591L25.8,33.7a.33.33,0,0,1-.148.626Z",transform:"translate(-15.525 -21.898)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_806","data-name":"Path 806",d:"M25.65,30.322a.331.331,0,0,1-.147-.035l-1.322-.661a.331.331,0,0,1,.3-.591L25.8,29.7a.33.33,0,0,1-.148.626Z",transform:"translate(-15.525 -19.308)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_807","data-name":"Path 807",d:"M25.65,26.322a.331.331,0,0,1-.147-.035l-1.322-.661a.331.331,0,0,1,.3-.591L25.8,25.7a.33.33,0,0,1-.148.626Z",transform:"translate(-15.525 -16.717)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_808","data-name":"Path 808",d:"M25.65,22.322a.331.331,0,0,1-.147-.035l-1.322-.661a.331.331,0,0,1,.3-.591L25.8,21.7a.33.33,0,0,1-.148.626Z",transform:"translate(-15.525 -14.127)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_809","data-name":"Path 809",d:"M25.65,18.322a.331.331,0,0,1-.147-.035l-1.322-.661a.331.331,0,0,1,.3-.591L25.8,17.7a.33.33,0,0,1-.148.626Z",transform:"translate(-15.525 -11.535)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_810","data-name":"Path 810",d:"M25.65,14.322a.331.331,0,0,1-.147-.035l-1.322-.661a.331.331,0,0,1,.3-.591L25.8,13.7a.33.33,0,0,1-.148.626Z",transform:"translate(-15.525 -8.945)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_811","data-name":"Path 811",d:"M34.331,38.321a.331.331,0,0,1-.148-.626l1.322-.661a.331.331,0,1,1,.3.591l-1.322.661A.327.327,0,0,1,34.331,38.321Z",transform:"translate(-21.996 -24.488)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_812","data-name":"Path 812",d:"M34.331,34.321a.331.331,0,0,1-.148-.626l1.322-.661a.331.331,0,1,1,.3.591l-1.322.661A.327.327,0,0,1,34.331,34.321Z",transform:"translate(-21.996 -21.898)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_813","data-name":"Path 813",d:"M34.331,30.321a.331.331,0,0,1-.148-.626l1.322-.661a.331.331,0,0,1,.3.591l-1.322.661A.327.327,0,0,1,34.331,30.321Z",transform:"translate(-21.996 -19.308)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_814","data-name":"Path 814",d:"M34.331,26.321a.331.331,0,0,1-.148-.626l1.322-.661a.331.331,0,1,1,.3.591l-1.322.661A.327.327,0,0,1,34.331,26.321Z",transform:"translate(-21.996 -16.715)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_815","data-name":"Path 815",d:"M34.331,22.321a.331.331,0,0,1-.148-.626l1.322-.661a.331.331,0,1,1,.3.591l-1.322.661A.327.327,0,0,1,34.331,22.321Z",transform:"translate(-21.996 -14.125)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_816","data-name":"Path 816",d:"M34.331,18.321a.331.331,0,0,1-.148-.626l1.322-.661a.331.331,0,1,1,.3.591l-1.322.661A.327.327,0,0,1,34.331,18.321Z",transform:"translate(-21.996 -11.535)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_817","data-name":"Path 817",d:"M34.331,14.321a.331.331,0,0,1-.148-.626l1.322-.661a.331.331,0,1,1,.3.591l-1.322.661A.327.327,0,0,1,34.331,14.321Z",transform:"translate(-21.996 -8.945)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_818","data-name":"Path 818",d:"M46.322,30.463A1.323,1.323,0,0,1,45,29.141c0-.377.381-2.645,1.322-2.645s1.322,2.268,1.322,2.645A1.323,1.323,0,0,1,46.322,30.463Zm0-3.3a3.949,3.949,0,0,0-.661,1.977.661.661,0,1,0,1.322,0A3.949,3.949,0,0,0,46.322,27.164Z",transform:"translate(-29.076 -17.597)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_819","data-name":"Path 819",d:"M48.33,36.473a.33.33,0,0,1-.33-.33V33.83a.33.33,0,0,1,.661,0v2.312A.33.33,0,0,1,48.33,36.473Z",transform:"translate(-31.123 -22.155)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_820","data-name":"Path 820",d:"M12.322,30.463A1.323,1.323,0,0,1,11,29.141c0-.377.381-2.645,1.322-2.645s1.322,2.268,1.322,2.645A1.323,1.323,0,0,1,12.322,30.463Zm0-3.3a3.949,3.949,0,0,0-.661,1.977.661.661,0,1,0,1.322,0A3.949,3.949,0,0,0,12.322,27.164Z",transform:"translate(-7.107 -17.597)",fill:null!==e&&void 0!==e?e:"#ddd"}),(0,m.jsx)("path",{id:"Path_821","data-name":"Path 821",d:"M14.33,36.473a.33.33,0,0,1-.33-.33V33.83a.33.33,0,0,1,.661,0v2.312A.33.33,0,0,1,14.33,36.473Z",transform:"translate(-9.077 -22.155)",fill:null!==e&&void 0!==e?e:"#ddd"})]})}))},D=function(t){var e,n,a,l,i,o,r,s,u,c,v=t.onChange,h=t.data,p=t.errors,x=(0,d.$)().t,g=function(t){v&&null!==t&&void 0!==t&&t.target&&v((0,A.Z)({},t.target.name,t.target.value))};return(0,m.jsxs)("div",{className:"sign_form-container",children:[(0,m.jsx)("div",{style:{color:"#E33F1A",fontSize:12},children:x("required-info")}),(0,m.jsx)(f.Z,{containerClassName:"input-compact",required:!0,type:"text",name:"corporateName",title:x("corporate-name"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.corporateName)&&""!==p.corporateName,errorMsg:null===p||void 0===p?void 0:p.corporateName,value:null!==(e=null===h||void 0===h?void 0:h.corporateName)&&void 0!==e?e:""}),(0,m.jsx)(f.Z,{type:"text",name:"picture",title:x("logo"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.picture)&&""!==p.picture,errorMsg:null===p||void 0===p?void 0:p.picture,value:null!==(n=null===h||void 0===h?void 0:h.picture)&&void 0!==n?n:"",icon:null!==h&&void 0!==h&&h.picture?(0,m.jsx)("img",{src:null===h||void 0===h?void 0:h.picture,alt:null!==(a=null===h||void 0===h?void 0:h.corporateName)&&void 0!==a?a:"",style:{width:35,height:35,objectFit:"cover",objectPosition:"center",borderRadius:"50%",marginRight:10}}):(0,m.jsx)(O,{style:{position:"absolute",transform:"scale(5)",top:35,left:10}})}),(0,m.jsx)(f.Z,{type:"text",name:"sector",title:x("activity-sector-code"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.sector)&&""!==p.sector,errorMsg:null===p||void 0===p?void 0:p.sector,value:null!==(l=null===h||void 0===h?void 0:h.sector)&&void 0!==l?l:""}),(0,m.jsx)(f.Z,{type:"text",name:"legalStructure",title:x("legal-structure"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.legalStructure)&&""!==p.legalStructure,errorMsg:null===p||void 0===p?void 0:p.legalStructure,value:null!==(i=null===h||void 0===h?void 0:h.legalStructure)&&void 0!==i?i:""}),(0,m.jsx)(f.Z,{type:"text",name:"address",title:x("street-address-n-number"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.address)&&""!==p.address,errorMsg:null===p||void 0===p?void 0:p.address,value:null!==(o=null===h||void 0===h?void 0:h.address)&&void 0!==o?o:""}),(0,m.jsx)(f.Z,{type:"text",name:"postalCode",title:x("postal-code"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.postalCode)&&""!==p.postalCode,errorMsg:null===p||void 0===p?void 0:p.postalCode,value:null!==(r=null===h||void 0===h?void 0:h.postalCode)&&void 0!==r?r:""}),(0,m.jsx)(f.Z,{type:"text",name:"town",title:x("city"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.town)&&""!==p.town,errorMsg:null===p||void 0===p?void 0:p.town,value:null!==(s=null===h||void 0===h?void 0:h.town)&&void 0!==s?s:""}),(0,m.jsx)(f.Z,{type:"text",name:"region",title:x("region"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.region)&&""!==p.region,errorMsg:null===p||void 0===p?void 0:p.region,value:null!==(u=null===h||void 0===h?void 0:h.region)&&void 0!==u?u:""}),(0,m.jsx)(f.Z,{type:"text",name:"country",title:x("country"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.country)&&""!==p.country,errorMsg:null===p||void 0===p?void 0:p.country,value:null!==(c=null===h||void 0===h?void 0:h.country)&&void 0!==c?c:""})]})},R=function(t){var e,n,i,s=t.data,u=(0,d.$)().t,v=(0,l.s0)(),h=(0,a.useState)(""),p=(0,o.Z)(h,2),x=p[0],g=p[1];return(0,m.jsxs)("div",{children:[null!==s&&void 0!==s&&s.selectedOrg?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("p",{style:{textDecoration:"underline",margin:"30px 15px"},children:[u("your-organisation")," :"]}),(0,m.jsxs)("div",{className:"select-org-card",children:[(0,m.jsx)("div",{style:{flex:"1 100px"},children:(0,m.jsx)("img",{alt:null!==(e=s.selectedOrg.name)&&void 0!==e?e:"",src:null!==(n=s.selectedOrg.picture)&&void 0!==n?n:k.Z,style:{width:"40%",objectFit:"cover",objectPosition:"top"}})}),(0,m.jsxs)("div",{title:s.selectedOrg.address,style:{flex:"1 300px"},children:[(0,m.jsx)("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:null!==(i=s.selectedOrg.corporateName)&&void 0!==i?i:s.selectedOrg.name}),s.selectedOrg.code?(0,m.jsx)("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:s.selectedOrg.code}):null]})]})]}):null,null!==s&&void 0!==s&&s.email?(0,m.jsxs)("p",{style:{textDecoration:"underline",margin:"30px 15px"},children:[u("your-email")," : ",s.email," "]}):null,x?(0,m.jsx)("p",{style:{color:"#E33F1A",fontSize:12,textAlign:"center"},children:x}):null,(0,m.jsx)(f.Z,{type:"submit",iconName:r.yOZ,title:u("try-app"),onClick:function(){var t;null!==s&&void 0!==s&&null!==(t=s.selectedOrg)&&void 0!==t&&t.id&&s.email?v(c.H.DASHBOARD):g(u("cant-join-rather-connect"))}})]})},H=function(){var t=(0,d.$)().t,e=(0,a.useState)(""),n=(0,o.Z)(e,2),x=n[0],g=n[1],Z=(0,a.useState)(""),j=(0,o.Z)(Z,2),y=j[0],P=j[1],w=(0,a.useState)(!1),k=(0,o.Z)(w,2),N=k[0],b=k[1],C=(0,a.useState)(!1),_=(0,o.Z)(C,2),M=_[0],A=_[1],E=(0,a.useState)(),O=(0,o.Z)(E,2),H=O[0],L=O[1],F=(0,a.useState)(t("invalid-email")),B=(0,o.Z)(F,2),q=B[0],T=(B[1],(0,a.useState)(t("invalid-password"))),V=(0,o.Z)(T,2),z=V[0],I=(V[1],(0,a.useState)("")),$=(0,o.Z)(I,2),U=$[0],G=$[1],K=(0,a.useState)(),Y=(0,o.Z)(K,2),W=Y[0],X=Y[1],J=(0,a.useState)({}),Q=(0,o.Z)(J,2),tt=Q[0],et=Q[1],nt=(0,u.I)(),at=(0,s.lr)(),lt=(0,o.Z)(at,2),it=lt[0],ot=lt[1],rt=(0,l.s0)(),dt=it.get("step"),st=(0,u.v)((function(t){return t.user})),ut=(0,a.useState)(!1),ct=(0,o.Z)(ut,2),vt=ct[0],ht=ct[1];(0,a.useEffect)((function(){st&&ot({step:"select_org"})}),[st]);var ft=function(){rt(c.H.DASHBOARD)};switch(dt){case"create_org":return(0,m.jsxs)("div",{className:"auth-content-cc",children:[(0,m.jsx)(D,{onChange:function(t){X((function(e){return(0,i.Z)((0,i.Z)({},e),t)}))},data:W,errors:tt}),(0,m.jsx)(f.Z,{type:"submit",title:t("create-my-organisation"),onClick:function(){var e;null!==W&&void 0!==W&&null!==(e=W.corporateName)&&void 0!==e&&e.trim()?nt((0,v.wk)((0,i.Z)((0,i.Z)({},W),{},{name:W.corporateName}))).unwrap().then((function(t){t&&rt(c.H.DASHBOARD)})):et((function(e){return(0,i.Z)((0,i.Z)({},e),{},{corporateName:t("corporate-name-error")})}))},iconName:r.yOZ})]});case"select_org":return(0,m.jsx)("div",{className:"auth-content-cc-cc",children:(0,m.jsx)(S,{selectedOrg:H,setSelectedOrg:L,onSubmitOrg:ft})});case"5":return(0,m.jsx)("div",{className:"auth-content-cc",children:(0,m.jsx)(R,{onNext:ft,data:{email:null===st||void 0===st?void 0:st.email,selectedOrg:H}})});default:return(0,m.jsxs)("div",{className:"auth-content-cc",children:[(0,m.jsx)(f.Z,{type:"text",title:t("email"),onChange:function(t){var e;return g(null===t||void 0===t||null===(e=t.target)||void 0===e?void 0:e.value)},hasError:N,errorMsg:q}),(0,m.jsx)(f.Z,{type:vt?"text":"password",title:t("password"),doThings:P,hasError:M,errorMsg:z,icon:(0,m.jsx)(p,{onClick:function(){return ht((function(t){return!t}))},show:vt})}),U&&(0,m.jsx)("span",{className:"errorMsg",children:U}),(0,m.jsx)(f.Z,{type:"submit",title:t("continue"),doThings:function(){(function(){var t=new RegExp("[a-z0-9]+@[a-z]+.[a-z]{2,3}"),e=new RegExp("(?=.{8,})(?=.*[^A-Za-z0-9])");return!(!t.test(x)||!e.test(y))||(t.test(x)||b(!0),e.test(y)||A(!0),!1)})()&&nt((0,h.ty)([{username:x,password:y},,function(){return G(t("invalid-login"))}])).unwrap().catch((function(e){G(t("invalid-login"))}))},iconName:r.yOZ})]})}},L=n(7757),F=n.n(L),B=n(1105),q=n(215),T=n(5850),V=n(5056),z=n(5791),I=["fill","background","style"],$=function(t){var e=t.fill,n=t.background,a=t.style,l=(0,y.Z)(t,I);return(0,m.jsxs)("svg",(0,i.Z)((0,i.Z)({},l),{},{tabIndex:0,role:"button",style:(0,i.Z)((0,i.Z)({},{height:"1.5em",width:"1.5em",transform:"translateX(-15%)",cursor:"pointer",border:"none",outline:"none"}),null!==a&&void 0!==a?a:{}),viewBox:"0 0 100 100",fill:null!==n&&void 0!==n?n:"#F3BE3D",children:[(0,m.jsx)("circle",{cx:50,cy:50,r:50}),(0,m.jsx)("text",{textAnchor:"middle",x:50,y:75,fill:null!==e&&void 0!==e?e:"#fff",fontSize:100,children:"+"})]}))},U=["inputRef","referenceElementRef"],G=function(t){t.onChange,t.data,t.errors;var e=(0,d.$)().t,n=(0,a.useState)(""),l=(0,o.Z)(n,2),r=l[0],s=l[1],u=(0,a.useState)([]),c=(0,o.Z)(u,2),v=c[0],h=c[1],p=(0,a.useState)(!1),x=(0,o.Z)(p,2),g=x[0],Z=x[1],j=(0,a.useState)({}),P=(0,o.Z)(j,2),w=P[0],k=P[1],N=(0,a.useState)(""),C=(0,o.Z)(N,2),_=C[0],M=C[1],S=(0,a.useState)({}),E=(0,o.Z)(S,2),O=E[0],D=E[1],R=(0,a.useState)(),H=(0,o.Z)(R,2),L=H[0],F=H[1],B=(0,a.useCallback)((function(t){Z(!0),function(t){return(0,b.ZP)("/public/rome/search?q=".concat(t)).then((function(t){var e;return null===t||void 0===t||null===(e=t.content)||void 0===e?void 0:e.content}))}(t).then((function(t){Z(!1),h(t)}))}),[]),q=function(t){var e;(null!==t&&void 0!==t&&t.key&&"enter"===(null===t||void 0===t||null===(e=t.key)||void 0===e?void 0:e.toLowerCase())||null===t||void 0===t||!t.key)&&D((function(t){return s(""),(0,i.Z)((0,i.Z)({},t),L?(0,A.Z)({},L.appellation,L):{})}))},T=(0,a.useMemo)((function(){return Object.values(O)}),[O]),I=(0,a.useMemo)((function(){return Object.values(w)}),[w]),G=function(t){D((function(e){var n=(0,i.Z)({},e);return delete n[t],n}))},K=function(t){var e;(null!==t&&void 0!==t&&t.key&&"enter"===(null===t||void 0===t||null===(e=t.key)||void 0===e?void 0:e.toLowerCase())||null===t||void 0===t||!t.key)&&(_&&k((function(t){return(0,i.Z)((0,i.Z)({},t),{},(0,A.Z)({},_.toLowerCase(),_))})),M(""))},Y=function(t){k((function(e){var n=(0,i.Z)({},e);return delete n[null===t||void 0===t?void 0:t.toLowerCase()],n}))};return(0,m.jsxs)("div",{className:"sign_form-container",children:[(0,m.jsx)(V.Wf,{id:"competence-search",className:"auth-input-typeahead",onInputChange:function(t){s(t)},onChange:function(t){Array.isArray(t)&&t.length&&(F(t[0]),s(t[0].appellation))},onSearch:B,options:v,labelKey:function(t){return"".concat(t.appellation," (").concat(t.codeRome,")")},minLength:1,isLoading:g,useCache:!1,renderMenuItemChildren:function(t){return(0,m.jsx)("span",{children:"".concat(t.appellation," (").concat(t.codeRome,")")})},renderInput:function(t){var n=t.inputRef,a=t.referenceElementRef,l=(0,y.Z)(t,U);return(0,m.jsx)(f.Z,(0,i.Z)((0,i.Z)({},l),{},{ref:function(t){n(t),a(t)},title:e("add-profession"),icon:(0,m.jsx)($,{background:"#959595",style:{marginRight:5},onClick:q}),onKeyDown:q,value:r}))}}),T.length>0?(0,m.jsx)("div",{style:{marginTop:15,display:"flex",flexWrap:"wrap"},children:T.map((function(t){return(0,m.jsx)(z.Z,{background:"#fff",value:t.appellation,onDismiss:G},t.appellation)}))}):null,(0,m.jsx)(f.Z,{type:"textarea",title:e("add-skills"),value:_,onChange:function(t){var e;return M(null===t||void 0===t||null===(e=t.target)||void 0===e?void 0:e.value)},icon:(0,m.jsx)($,{onClick:K,background:"#959595",style:{marginRight:5}}),onKeyDown:K}),I.length>0?(0,m.jsx)("div",{style:{marginTop:15,display:"flex",flexWrap:"wrap"},children:I.map((function(t){return(0,m.jsx)(z.Z,{background:"#fff",value:t,onDismiss:Y},t)}))}):null]})},K=["fill","background"],Y=function(t){var e=t.fill,n=t.background,a=(0,y.Z)(t,K);return(0,m.jsxs)("svg",(0,i.Z)((0,i.Z)({},a),{},{"data-name":"001-linkedin",xmlns:"http://www.w3.org/2000/svg",width:"23.998",height:"23.998",viewBox:"0 0 23.998 23.998",children:[(0,m.jsx)("circle",{"data-name":"Ellipse 115",cx:"11.999",cy:"11.999",r:"11.999",fill:null!==n&&void 0!==n?n:"#295EA7"}),(0,m.jsx)("g",{id:"Group_2158","data-name":"Group 2158",transform:"translate(5.79 5.127)",children:(0,m.jsx)("path",{id:"Path_963","data-name":"Path 963",d:"M40.446,31.806v4.947H37.578V32.138c0-1.159-.414-1.95-1.453-1.95a1.569,1.569,0,0,0-1.471,1.049,1.963,1.963,0,0,0-.095.7v4.818H31.691s.038-7.817,0-8.626H34.56v1.222c-.006.01-.014.019-.019.028h.019v-.028a2.848,2.848,0,0,1,2.585-1.425c1.887,0,3.3,1.233,3.3,3.882ZM28.691,23.969a1.495,1.495,0,1,0-.038,2.981h.019a1.5,1.5,0,1,0,.019-2.981ZM27.238,36.753h2.867V28.127H27.238Z",transform:"translate(-27.068 -23.969)",fill:null!==e&&void 0!==e?e:"#eee"})})]}))},W=function(t){var e,n,a,l=t.onChange,i=t.data,o=t.errors,r=(0,d.$)().t,s=function(t){l&&null!==t&&void 0!==t&&t.target&&l((0,A.Z)({},t.target.name,t.target.value))};return(0,m.jsxs)("div",{className:"sign_form-container",children:[(0,m.jsx)("div",{style:{color:"#E33F1A",fontSize:12},children:r("required-info")}),(0,m.jsx)(f.Z,{containerClassName:"input-compact",required:!0,type:"text",name:"phone",title:r("phone"),onChange:s,hasError:"string"===typeof(null===o||void 0===o?void 0:o.phone)&&""!==o.phone,errorMsg:null===o||void 0===o?void 0:o.phone,value:null!==(e=null===i||void 0===i?void 0:i.phone)&&void 0!==e?e:""}),(0,m.jsx)(f.Z,{type:"text",name:"phoneFixed",title:r("fixed-phone"),onChange:s,hasError:"string"===typeof(null===o||void 0===o?void 0:o.phoneFixed)&&""!==o.phoneFixed,errorMsg:null===o||void 0===o?void 0:o.phoneFixed,value:null!==(n=null===i||void 0===i?void 0:i.phoneFixed)&&void 0!==n?n:""}),(0,m.jsx)(f.Z,{type:"text",name:"portfolioUrl",title:r("linkedin-link"),onChange:s,hasError:"string"===typeof(null===o||void 0===o?void 0:o.portfolioUrl)&&""!==o.portfolioUrl,errorMsg:null===o||void 0===o?void 0:o.portfolioUrl,value:null!==(a=null===i||void 0===i?void 0:i.portfolioUrl)&&void 0!==a?a:"",icon:(0,m.jsx)(Y,{style:{marginRight:10}})})]})},X=function(t){var e=t.onNext,n=t.data,l=t.errors,i=(0,d.$)().t,s=(0,a.useState)(""),u=(0,o.Z)(s,2),c=u[0],v=u[1],h=(0,a.useState)(""),x=(0,o.Z)(h,2),g=x[0],Z=x[1],j=(0,a.useState)(""),y=(0,o.Z)(j,2),P=y[0],w=y[1],k=(0,a.useState)(""),N=(0,o.Z)(k,2),b=N[0],C=N[1],_=(0,a.useState)(""),M=(0,o.Z)(_,2),S=M[0],A=M[1],E=(0,a.useState)(!1),O=(0,o.Z)(E,2),D=O[0],R=O[1],H=(0,a.useState)(!1),L=(0,o.Z)(H,2),F=L[0],B=L[1];(0,a.useEffect)((function(){var t,e,a,l,i;v(null!==(t=null===n||void 0===n?void 0:n.firstName)&&void 0!==t?t:""),Z(null!==(e=null===n||void 0===n?void 0:n.lastName)&&void 0!==e?e:""),w(null!==(a=null===n||void 0===n?void 0:n.email)&&void 0!==a?a:""),C(null!==(l=null===n||void 0===n?void 0:n.password)&&void 0!==l?l:""),A(null!==(i=null===n||void 0===n?void 0:n.checkPassword)&&void 0!==i?i:"")}),[]);return(0,m.jsxs)("form",{id:"register",className:"sign_form-container",children:[(0,m.jsx)("div",{style:{color:"#E33F1A",fontSize:12},children:i("required-info")}),(0,m.jsx)(f.Z,{containerClassName:"input-compact",required:!0,type:"text",name:"firstName",title:i("first-name"),onChange:function(t){return v(t.target.value)},hasError:"string"===typeof(null===l||void 0===l?void 0:l.firstName)&&""!==l.firstName,errorMsg:null===l||void 0===l?void 0:l.firstName,value:c}),(0,m.jsx)(f.Z,{required:!0,type:"text",name:"lastName",title:i("last-name"),onChange:function(t){return Z(t.target.value)},hasError:"string"===typeof(null===l||void 0===l?void 0:l.lastName)&&""!==l.lastName,errorMsg:null===l||void 0===l?void 0:l.lastName,value:g}),(0,m.jsx)(f.Z,{required:!0,type:"email",name:"email",title:i("email"),onChange:function(t){return w(t.target.value)},hasError:"string"===typeof(null===l||void 0===l?void 0:l.email)&&""!==l.email,errorMsg:null===l||void 0===l?void 0:l.email,value:P}),(0,m.jsx)(f.Z,{required:!0,type:D?"text":"password",name:"password",title:i("password"),onChange:function(t){return C(t.target.value)},hasError:"string"===typeof(null===l||void 0===l?void 0:l.password)&&""!==l.password,errorMsg:null===l||void 0===l?void 0:l.password,value:b,icon:(0,m.jsx)(p,{onClick:function(){return R((function(t){return!t}))},show:D})}),(0,m.jsx)(f.Z,{required:!0,type:F?"text":"password",name:"checkPassword",title:i("confirmation"),onChange:function(t){return A(t.target.value)},hasError:b!==S||"string"===typeof(null===l||void 0===l?void 0:l.checkPassword)&&""!==l.checkPassword,errorMsg:b!==S?i("password-check-failed"):null===l||void 0===l?void 0:l.checkPassword,value:S,icon:(0,m.jsx)(p,{onClick:function(){return B((function(t){return!t}))},show:F})}),(0,m.jsx)(f.Z,{type:"submit",title:i("continue"),onSubmit:function(t){return null===t||void 0===t?void 0:t.preventDefault()},onClick:function(t){null===t||void 0===t||t.preventDefault(),e&&e({firstName:c,lastName:g,email:P,password:b,checkPassword:S})},iconName:r.yOZ}),(0,m.jsxs)("div",{className:"check-cgu",children:[(0,m.jsx)("div",{className:"check-cgu-line",children:(0,m.jsxs)("label",{children:[(0,m.jsx)("input",{name:"condition_utilisation",type:"radio",className:"form-check-input"})," ",i("by-clicking-you-accept")," ",(0,m.jsx)("a",{href:"#",style:{color:"inherit"},children:i("usage-conditions")})," ",i("of")," ",i("app-name")]})}),(0,m.jsx)("div",{className:"check-cgu-line",children:(0,m.jsxs)("label",{children:[(0,m.jsx)("input",{name:"condition_utilisation",type:"radio",className:"form-check-input"})," ",i("by-clicking-you-accept")," ",(0,m.jsx)("a",{href:"#",style:{color:"inherit"},children:i("privacy-policy")})," ",i("of")," ",i("app-name")]})})]})]})},J=function(t){var e=t.onNext,n=t.data,l=t.onComplete,i=(0,d.$)().t,s=(0,a.useState)(""),u=(0,o.Z)(s,2),c=u[0],v=u[1],h=(0,a.useState)([]),p=(0,o.Z)(h,2),Z=p[0],y=p[1],P=(0,a.useState)({}),k=(0,o.Z)(P,2),b=k[0],C=k[1],S=(0,a.useState)(""),A=(0,o.Z)(S,2),E=A[0],O=A[1],D=(0,a.useState)(!1),R=(0,o.Z)(D,2),H=R[0],L=R[1],F=(0,a.useRef)(),B=function(t){var e;null===t||void 0===t||t.stopPropagation(),t&&clearTimeout(F.current),(null!==t&&void 0!==t&&t.key&&"enter"===(null===t||void 0===t||null===(e=t.key)||void 0===e?void 0:e.toLowerCase())||null===t||void 0===t||!t.key)&&c&&(L(!0),_(c).then((function(t){L(!1),y(t)})))};return(0,m.jsxs)("div",{children:[(0,m.jsx)(f.Z,{type:"text",title:i("find-your-organisation"),onChange:function(t){var e;null===t||void 0===t||t.stopPropagation(),v(null===t||void 0===t||null===(e=t.target)||void 0===e?void 0:e.value),clearTimeout(F.current),F.current=setTimeout(B,1e3)},onKeyDown:B,icon:H?(0,m.jsx)(g.Z,{animation:"border",style:{marginRight:15},variant:"secondary"}):(0,m.jsx)(w,{background:"#959595",style:{transform:"scale(1.4)",marginRight:15},onClick:B})}),Z.length>0?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{style:{maxHeight:500,overflowY:"auto",padding:"0 20px"},children:[(0,m.jsxs)("p",{style:{textDecoration:"underline",margin:"30px 15px"},children:[i("organisation-found")," :"]}),Z.map((function(t){return(0,m.jsx)(N,{org:t,selected:null===b||void 0===b?void 0:b.id,onClick:function(){return function(t){C(t),O("")}(t)}},t.id)}))]}),E?(0,m.jsx)("p",{style:{color:"#E33F1A",fontSize:12,textAlign:"center"},children:E}):null,(0,m.jsx)(f.Z,{type:"submit",iconName:r.yOZ,title:i("request-access"),onClick:function(){b.id?null!==n&&void 0!==n&&n.email?M(b.id,null===n||void 0===n?void 0:n.email).then((function(t){var n;Array.isArray(null===t||void 0===t?void 0:t.errors)&&(null===t||void 0===t||null===(n=t.errors)||void 0===n?void 0:n.length)>0?O(i("request-not-sent")):e&&e({selectedOrg:b})})).catch((function(t){O(i("request-not-sent"))})):O(i("cant-join-rather-connect")):O(i("select-org-error"))}})]}):null,(0,m.jsx)(j.Z,{onClick:function(){l&&l({})},style:{border:"1px solid #959595",background:"#EBEBEB"},round:!0,icon:(0,m.jsx)(x.G,{icon:r.yOZ}),children:i("skip-step")})]})},Q={login:H,register:function(){var t=(0,s.lr)(),e=(0,o.Z)(t,2),n=e[0],d=e[1],v=(0,a.useState)({}),h=(0,o.Z)(v,2),p=h[0],x=h[1],g=(0,a.useState)({}),Z=(0,o.Z)(g,2),j=Z[0],y=Z[1],P=(0,u.I)(),w=(0,l.s0)(),k=n.get("step"),N=(0,a.useMemo)((function(){return F().mark((function t(){var e,n;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=Number(k),n=e>0?e:1;case 2:return n>5&&(n=1),t.next=6,(++n).toString();case 6:t.next=2;break;case 8:case"end":return t.stop()}}),t)}))()}),[k]),b=function(t){x((function(e){return(0,i.Z)((0,i.Z)({},e),t)}))},C=function(t){var e=!0;return null!==t&&void 0!==t&&t.password||(y((function(t){return(0,i.Z)((0,i.Z)({},t),{},{password:"".concat((0,B.t)("password")," ").concat((0,B.t)("is-obligatory"))})})),e=!1),null!==t&&void 0!==t&&t.email||(y((function(t){return(0,i.Z)((0,i.Z)({},t),{},{email:"".concat((0,B.t)("email")," ").concat((0,B.t)("is-obligatory"))})})),e=!1),null!==t&&void 0!==t&&t.checkPassword||(y((function(t){return(0,i.Z)((0,i.Z)({},t),{},{checkPassord:"".concat((0,B.t)("confirmation")," ").concat((0,B.t)("is-obligatory"))})})),e=!1),null!==t&&void 0!==t&&t.firstName||(y((function(t){return(0,i.Z)((0,i.Z)({},t),{},{firstName:"".concat((0,B.t)("first-name")," ").concat((0,B.t)("is-obligatory"))})})),e=!1),null!==t&&void 0!==t&&t.lastName||(y((function(t){return(0,i.Z)((0,i.Z)({},t),{},{lastName:"".concat((0,B.t)("last-name")," ").concat((0,B.t)("is-obligatory"))})})),e=!1),null!==t&&void 0!==t&&t.email&&!T.sC.isEmail(null===t||void 0===t?void 0:t.email)&&(y((function(t){return(0,i.Z)((0,i.Z)({},t),{},{email:(0,B.t)("invalid-email")})})),e=!1),t.password&&!T.sC.isValidPassword(null===t||void 0===t?void 0:t.password)&&(y((function(t){return(0,i.Z)((0,i.Z)({},t),{},{password:(0,B.t)("invalid-password")})})),e=!1),e},_=function(t){b(t),C(t)&&(y({}),d({step:N.next().value}))},M=function(t){b(t),C(p)&&d({step:N.next().value})};switch(k){case"5":return(0,m.jsx)("div",{className:"auth-content-cc",children:(0,m.jsx)(R,{onNext:M,data:p,errors:j})});case"4":return(0,m.jsx)("div",{className:"auth-content-cc",children:(0,m.jsx)(J,{onComplete:function(){C(p)?w(c.H.DASHBOARD):d({step:"1"})},onNext:M,data:p,errors:j})});case"3":return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"auth-content-cc",children:(0,m.jsx)(G,{onNext:_,data:p,errors:j})}),(0,m.jsxs)("div",{className:"auth-content-cc-cc",children:[(0,m.jsx)("h5",{className:"auth-select-user-type__heading",children:(0,B.t)("choose_organisation")}),(0,m.jsxs)("div",{className:"auth-select-user-type",children:[(0,m.jsx)(f.Z,{type:"submit",iconName:r.yOZ,title:(0,B.t)("join_organisation"),onClick:function(){return d({step:N.next().value})}}),(0,m.jsx)(f.Z,{containerClassName:"disabled",type:"submit",iconName:r.yOZ,title:(0,B.t)("create_organisation"),disabled:!0})]})]})]});case"2":return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"auth-content-cc",children:(0,m.jsx)(W,{onChange:b,data:p,errors:j})}),(0,m.jsxs)("div",{className:"auth-content-cc-cc",children:[(0,m.jsx)("h5",{className:"auth-select-user-type__heading",children:(0,B.t)("select-user-type")}),(0,m.jsxs)("div",{className:"auth-select-user-type",children:[(0,m.jsx)(f.Z,{type:"submit",containerClassName:"disabled",iconName:r.yOZ,title:(0,B.t)("iam-individual"),disabled:!0}),(0,m.jsx)(f.Z,{type:"submit",iconName:r.yOZ,title:(0,B.t)("iam-professional"),onClick:function(){C(p)?p.phone?P((0,q.r4)(p)).unwrap().then((function(t){console.log({response:t}),null!==t&&void 0!==t&&t.errors&&(null===t||void 0===t?void 0:t.errors.length)>0?(t.errors.forEach((function(t){t.field&&y((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,A.Z)({},t.field,"".concat((0,B.t)(t.field)," ").concat((0,B.t)("is-obligatory"))))})),t.message&&("email_is_already_taken"===t.message&&y((function(t){return(0,i.Z)((0,i.Z)({},t),{},{email:(0,B.t)("email_is_already_taken")})})),"phone_is_already_taken"===t.message&&y((function(t){return(0,i.Z)((0,i.Z)({},t),{},{email:(0,B.t)("phone_is_already_taken")})})))})),d({step:"1"})):d({step:N.next().value})})).catch((function(t){console.log({error:t})})):y((function(t){return(0,i.Z)((0,i.Z)({},t),{},{phone:"".concat((0,B.t)("phone")," ").concat((0,B.t)("is-obligatory"))})})):d({step:"1"})}})]})]})]});default:return(0,m.jsx)("div",{className:"auth-content-cc",children:(0,m.jsx)(X,{onNext:_,data:p,errors:j})})}}},tt=function(){var t=(0,l.UO)().screen,e=(0,a.useMemo)((function(){var e;return null!==(e=Q[t])&&void 0!==e?e:Q.login}),[t]);return(0,m.jsx)(e,{})}}}]);
//# sourceMappingURL=323.06b1b747.chunk.js.map