"use strict";(self.webpackChunkstartbuilding=self.webpackChunkstartbuilding||[]).push([[111],{3280:function(e,t,n){n(2791);t.Z=n.p+"static/media/architecture.631a4752885caafd43ea604fd6b6ff3a.svg"},6111:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var a=n(2791),i=n(6871),l=n(1413),r=n(9439),o=n(3174),s=n(3168),d=n(3504),u=n(5405),c=n(1381),v=n(7556),h=n(9791),f=n(6618),m=n(184),p=function(e){var t=e.show,n=e.onClick;return(0,m.jsx)("button",{onClick:n,type:"button",style:{textDecoration:"underline",fontSize:12,padding:"0 15px"},children:t?"Cacher":"Afficher"})},x=n(4483),g=n(4849),Z=n(3688),j=n(6089),y=n(5987),w=["fill","background","style"],P=function(e){var t=e.fill,n=e.background,a=e.style,i=(0,y.Z)(e,w);return(0,m.jsxs)("svg",(0,l.Z)((0,l.Z)({},i),{},{xmlns:"http://www.w3.org/2000/svg",style:(0,l.Z)((0,l.Z)({},{height:"1.5em",width:"1.5em",transform:"translateX(-15%)",cursor:"pointer",border:"none",outline:"none"}),null!==a&&void 0!==a?a:{}),viewBox:"0 0 100 100",children:[(0,m.jsx)("circle",{cx:"50",cy:"50",r:"50",fill:n}),(0,m.jsx)("g",{transform:"translate(25 20)",children:(0,m.jsx)("path",{id:"Path_938","data-name":"Path 938",d:"M21.858,18.895a11.972,11.972,0,1,0-3.683,3.391L27,31.062a2.506,2.506,0,0,0,3.634-3.452c-.03-.032-.059-.061-.091-.091Zm-9.78.818a7.716,7.716,0,1,1,.005,0Zm0,0",transform:"scale(1.5)",fill:null!==t&&void 0!==t?t:"#fff"})})]}))},b=n(3280),N=(n(9554),function(e){var t,n,a,i=e.org,l=e.selected,r=e.onClick;return(0,m.jsxs)("div",{className:"select-org-card ".concat(i.id===l?"selected":""),tabIndex:0,role:"button",onClick:function(){return r?r(i):null},children:[(0,m.jsx)("div",{style:{flex:"1 100px"},children:(0,m.jsx)("img",{alt:null!==(t=i.name)&&void 0!==t?t:"",src:null!==(n=i.picture)&&void 0!==n?n:b.Z,style:{width:"40%",objectFit:"cover",objectPosition:"top"}})}),(0,m.jsxs)("div",{title:i.address,style:{flex:"1 300px"},children:[(0,m.jsx)("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:null!==(a=i.corporateName)&&void 0!==a?a:i.name}),i.code||i.description||i.address?(0,m.jsx)("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:i.description||i.address||i.code}):null]})]})}),k=n(780),C=n(9656),_=function(e){return(0,k.ZP)("/public/users/organisations/search?q=".concat(e)).then((function(e){var t;return null===e||void 0===e||null===(t=e.content)||void 0===t?void 0:t.content}))},M=function(e,t){return(0,k.ZP)(C.B6.$JOIN(e),{value:t},void 0,"POST")},S=function(e){var t=e.onSubmitOrg,n=e.selectedOrg,l=e.setSelectedOrg,h=(0,s.$)().t,p=(0,a.useState)(""),y=(0,r.Z)(p,2),w=y[0],b=y[1],k=(0,a.useState)([]),C=(0,r.Z)(k,2),S=C[0],A=C[1],E=(0,a.useState)([]),O=(0,r.Z)(E,2),D=(O[0],O[1],(0,a.useState)([])),R=(0,r.Z)(D,2),q=R[0],F=R[1],H=(0,a.useState)([]),L=(0,r.Z)(H,2),B=L[0],T=L[1],V=(0,a.useState)(0),z=(0,r.Z)(V,2),I=z[0],$=(z[1],(0,a.useState)(0)),U=(0,r.Z)($,2),G=U[0],K=(U[1],(0,a.useState)(!1)),X=(0,r.Z)(K,2),Y=X[0],W=X[1],J=(0,a.useState)(""),Q=(0,r.Z)(J,2),ee=Q[0],te=Q[1],ne=(0,a.useRef)(),ae=(0,a.useRef)(),ie=(0,d.lr)(),le=(0,r.Z)(ie,2)[1],re=(0,i.s0)(),oe=(0,u.I0)(),se=(0,u.v9)((function(e){return e.user}));(0,a.useEffect)((function(){se?clearTimeout(ae.current):(clearTimeout(ae.current),ae.current=setTimeout((function(){return re(c.H.AUTH+"/login")}),300))}),[se]),(0,a.useEffect)((function(){Z.w.listCreated(I).then((function(e){var t,n,a,i;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.content&&F(null!==(n=null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.content)||void 0===i?void 0:i.content)&&void 0!==n?n:[])}))}),[I]),(0,a.useEffect)((function(){Z.w.listJoined(I).then((function(e){var t,n,a,i;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.content&&T(null!==(n=null===e||void 0===e||null===(a=e.data)||void 0===a||null===(i=a.content)||void 0===i?void 0:i.organisations)&&void 0!==n?n:[])}))}),[G]);var de=function(e){var t;null===e||void 0===e||e.stopPropagation(),e&&clearTimeout(ne.current),(null!==e&&void 0!==e&&e.key&&"enter"===(null===e||void 0===e||null===(t=e.key)||void 0===t?void 0:t.toLowerCase())||null===e||void 0===e||!e.key)&&w&&(W(!0),_(w).then((function(e){W(!1),A(e)})))},ue=function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(l(e),n)?(oe((0,v.vE)(e)),re(c.H.DASHBOARD)):Z.w.isMember(null===e||void 0===e||null===(t=e.id)||void 0===t?void 0:t.toString()).then((function(t){var n,a,i;(!Array.isArray(null===(n=t.data)||void 0===n?void 0:n.errors)||(null===(a=t.data)||void 0===a||null===(i=a.errors)||void 0===i?void 0:i.length)<1)&&(oe((0,v.vE)(e)),re(c.H.DASHBOARD))}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"org-select-cc",children:[(null===q||void 0===q?void 0:q.length)>0?(0,m.jsxs)("div",{style:{maxHeight:500,overflowY:"auto",overflowX:"hidden",padding:"0 20px"},className:"auth-content-cc",children:[(0,m.jsxs)("p",{style:{textDecoration:"underline",margin:"30px 15px"},children:[h("created-orgs")," :"]}),q.map((function(e){var t;return(0,m.jsx)(N,{org:e,selected:null!==(t=null===n||void 0===n?void 0:n.id)&&void 0!==t?t:"",onClick:function(){return ue(e)}},e.id)}))]}):null,(null===B||void 0===B?void 0:B.length)>0?(0,m.jsxs)("div",{style:{maxHeight:500,overflowY:"auto",overflowX:"hidden",padding:"0 20px"},className:"auth-content-cc",children:[(0,m.jsxs)("p",{style:{textDecoration:"underline",margin:"30px 15px"},children:[h("joined-orgs")," :"]}),B.map((function(e){var t;return(0,m.jsx)(N,{org:e,selected:null!==(t=null===n||void 0===n?void 0:n.id)&&void 0!==t?t:"",onClick:function(){return ue(e)}},e.id)}))]}):null]}),(0,m.jsxs)("div",{className:"auth-content-cc-cc",children:[(0,m.jsxs)("div",{className:"auth-content-cc align-center",children:[(0,m.jsx)(f.Z,{type:"text",title:h("find-your-organisation"),onChange:function(e){var t;null===e||void 0===e||e.stopPropagation(),b(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value),clearTimeout(ne.current),ne.current=setTimeout(de,1e3)},onKeyDown:de,icon:Y?(0,m.jsx)(g.Z,{animation:"border",style:{marginRight:15},variant:"secondary"}):(0,m.jsx)(P,{background:"#959595",style:{transform:"scale(1.4)",marginRight:15},onClick:de})}),(null===S||void 0===S?void 0:S.length)>0?(0,m.jsxs)("div",{style:{marginBottom:15},children:[(0,m.jsxs)("div",{style:{maxHeight:500,overflowY:"auto",padding:"0 20px"},children:[(0,m.jsxs)("p",{style:{textDecoration:"underline",margin:"30px 15px"},children:[h("organisation-found")," :"]}),S.map((function(e){return(0,m.jsx)(N,{org:e,selected:null===n||void 0===n?void 0:n.id,onClick:function(){return ue(e,!1)}},e.id)}))]}),ee?(0,m.jsx)("p",{style:{color:"#E33F1A",fontSize:12,textAlign:"center"},children:ee}):null,(0,m.jsx)(f.Z,{type:"submit",iconName:o.yOZ,title:h("request-access"),onClick:function(){null!==n&&void 0!==n&&n.id?null!==se&&void 0!==se&&se.email?M(null===n||void 0===n?void 0:n.id,null===se||void 0===se?void 0:se.email).then((function(e){var t;Array.isArray(null===e||void 0===e?void 0:e.errors)&&(null===e||void 0===e||null===(t=e.errors)||void 0===t?void 0:t.length)>0?te(h("request-not-sent")):le({step:"5"})})).catch((function(e){te(h("request-not-sent"))})):te(h("cant-join-rather-connect")):te(h("select-org-error"))}})]}):null]}),(0,m.jsxs)("div",{className:"flex-content",children:[(0,m.jsx)("div",{style:{flex:1,margin:5},children:(0,m.jsx)(j.Z,{onClick:function(){return le({step:"create_org"})},style:{border:"1px solid #959595",background:"#1E2432",color:"#fff"},round:!0,icon:(0,m.jsx)(x.G,{icon:o.yOZ}),children:h("create_organisation")})}),(0,m.jsx)("div",{style:{flex:1,margin:5},children:(0,m.jsx)(j.Z,{onClick:t,style:{border:"1px solid #959595",background:"#EBEBEB"},round:!0,icon:(0,m.jsx)(x.G,{icon:o.yOZ}),children:h("skip-step")})})]})]})]})},A=n(4942),E=["fill","background","style"],O=function(e){var t=e.fill,n=e.background,a=e.style,i=(0,y.Z)(e,E);return(0,m.jsx)("svg",(0,l.Z)((0,l.Z)({},i),{},{tabIndex:0,role:"button",style:(0,l.Z)((0,l.Z)({},{height:"1.5em",width:"1.5em",transform:"translateX(-15%)",cursor:"pointer",border:"none",outline:"none"}),null!==a&&void 0!==a?a:{}),viewBox:"0 0 100 100",fill:null!==n&&void 0!==n?n:"#F3BE3D",children:(0,m.jsxs)("g",{id:"_002-architect-1","data-name":"002-architect-1",transform:"translate(0 0)",children:[(0,m.jsx)("path",{id:"Path_779","data-name":"Path 779",d:"M11.229,46.121a.368.368,0,0,1-.153-.033L.2,41.131a.323.323,0,0,1-.163-.441A.362.362,0,0,1,.5,40.536l10.726,4.887,10.726-4.887a.362.362,0,0,1,.469.154.323.323,0,0,1-.163.441L11.382,46.088a.37.37,0,0,1-.153.033Z",transform:"translate(0.001 -26.364)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_780","data-name":"Path 780",d:"M11.229,51.121a.368.368,0,0,1-.153-.033L.2,46.131a.323.323,0,0,1-.163-.441A.362.362,0,0,1,.5,45.536l10.726,4.887,10.726-4.887a.361.361,0,0,1,.469.154.323.323,0,0,1-.163.441L11.382,51.088a.37.37,0,0,1-.153.033Z",transform:"translate(0.001 -29.71)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_781","data-name":"Path 781",d:"M.33,42.816a.33.33,0,0,1-.33-.33V40.833a.33.33,0,0,1,.661,0v1.652A.33.33,0,0,1,.33,42.816Z",transform:"translate(0.001 -26.709)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_782","data-name":"Path 782",d:"M62.33,42.816a.33.33,0,0,1-.33-.33V40.833a.33.33,0,0,1,.661,0v1.652A.33.33,0,0,1,62.33,42.816Z",transform:"translate(-40.201 -26.709)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_783","data-name":"Path 783",d:"M31.33,57.816a.33.33,0,0,1-.33-.33V55.833a.33.33,0,0,1,.661,0v1.652A.33.33,0,0,1,31.33,57.816Z",transform:"translate(-20.1 -36.407)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_784","data-name":"Path 784",d:"M41.357,53.825a.33.33,0,0,1,0-.661h0a.33.33,0,0,1,0,.661Z",transform:"translate(-26.601 -34.841)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_785","data-name":"Path 785",d:"M56.357,46.567a.33.33,0,0,1,0-.661h0a.33.33,0,1,1,0,.661Z",transform:"translate(-36.2 -30.29)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_786","data-name":"Path 786",d:"M51.357,48.986a.33.33,0,0,1,0-.661h0a.33.33,0,0,1,0,.661Z",transform:"translate(-33.085 -31.858)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_787","data-name":"Path 787",d:"M46.357,51.406a.33.33,0,0,1,0-.661h0a.33.33,0,1,1,0,.661Z",transform:"translate(-29.843 -33.22)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_788","data-name":"Path 788",d:"M36.357,56.245a.33.33,0,0,1,0-.661h0a.33.33,0,0,1,0,.661Z",transform:"translate(-23.359 -36.46)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_789","data-name":"Path 789",d:"M21.357,53.825a.33.33,0,0,1,0-.661h0a.33.33,0,0,1,0,.661Z",transform:"translate(-13.632 -34.841)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_790","data-name":"Path 790",d:"M6.357,46.567a.33.33,0,0,1,0-.661h0a.33.33,0,1,1,0,.661Z",transform:"translate(-4.033 -30.29)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_791","data-name":"Path 791",d:"M11.357,48.986a.33.33,0,0,1,0-.661h0a.33.33,0,1,1,0,.661Z",transform:"translate(-7.148 -31.858)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_792","data-name":"Path 792",d:"M16.357,51.406a.33.33,0,0,1,0-.661h0a.33.33,0,1,1,0,.661Z",transform:"translate(-10.39 -33.22)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_793","data-name":"Path 793",d:"M26.357,56.245a.33.33,0,0,1,0-.661h0a.33.33,0,0,1,0,.661Z",transform:"translate(-16.874 -36.46)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_794","data-name":"Path 794",d:"M17.213,31.664a.33.33,0,0,1-.144-.628l1.361-.658a.331.331,0,1,1,.288.6l-1.361.658A.335.335,0,0,1,17.213,31.664Z",transform:"translate(-10.921 -20.179)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_795","data-name":"Path 795",d:"M.331,37.474a.33.33,0,0,1-.144-.628l3.766-1.822a.331.331,0,1,1,.288.6L.475,37.441a.331.331,0,0,1-.144.033Z",transform:"translate(0 -23.14)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_796","data-name":"Path 796",d:"M42.69,31.662a.33.33,0,0,1-.144-.033l-1.359-.658a.331.331,0,0,1,.288-.6l1.359.658a.331.331,0,0,1-.144.628Z",transform:"translate(-26.523 -20.179)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_797","data-name":"Path 797",d:"M54.7,37.471a.33.33,0,0,1-.144-.033l-3.766-1.822a.331.331,0,1,1,.288-.6l3.766,1.822a.331.331,0,0,1-.144.628Z",transform:"translate(-32.569 -23.138)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_798","data-name":"Path 798",d:"M24.635,42.818a.331.331,0,0,1-.148-.035l-3.3-1.653a.331.331,0,1,1,.3-.591l3.156,1.579,3.157-1.579a.331.331,0,1,1,.3.591l-3.3,1.653A.333.333,0,0,1,24.635,42.818Z",transform:"translate(-13.404 -26.711)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_799","data-name":"Path 799",d:"M24.635,8.811a.331.331,0,0,1-.148-.035l-3.3-1.653a.331.331,0,1,1,.3-.591l3.156,1.579,3.157-1.579a.331.331,0,0,1,.3.591l-3.3,1.653A.333.333,0,0,1,24.635,8.811Z",transform:"translate(-13.404 -4.844)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_800","data-name":"Path 800",d:"M27.939,3.81a.331.331,0,0,1-.147-.035L24.634,2.2,21.478,3.775a.331.331,0,1,1-.3-.591l3.3-1.653a.33.33,0,0,1,.3,0l3.3,1.653a.331.331,0,0,1-.148.626Z",transform:"translate(-13.404 -1.496)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_801","data-name":"Path 801",d:"M31.33,23.4a.33.33,0,0,1-.33-.33V11.827a.33.33,0,1,1,.661,0V23.065A.33.33,0,0,1,31.33,23.4Z",transform:"translate(-20.1 -7.692)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_802","data-name":"Path 802",d:"M41.33,18.395a.33.33,0,0,1-.33-.33V6.826a.33.33,0,1,1,.661,0V18.064A.33.33,0,0,1,41.33,18.395Z",transform:"translate(-26.585 -4.844)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_803","data-name":"Path 803",d:"M21.33,18.395a.33.33,0,0,1-.33-.33V6.826a.33.33,0,0,1,.661,0V18.064A.33.33,0,0,1,21.33,18.395Z",transform:"translate(-13.616 -4.844)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_804","data-name":"Path 804",d:"M25.65,38.322a.331.331,0,0,1-.147-.035l-1.322-.661a.331.331,0,1,1,.3-.591L25.8,37.7a.33.33,0,0,1-.148.626Z",transform:"translate(-15.525 -24.49)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_805","data-name":"Path 805",d:"M25.65,34.322a.331.331,0,0,1-.147-.035l-1.322-.661a.331.331,0,1,1,.3-.591L25.8,33.7a.33.33,0,0,1-.148.626Z",transform:"translate(-15.525 -21.898)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_806","data-name":"Path 806",d:"M25.65,30.322a.331.331,0,0,1-.147-.035l-1.322-.661a.331.331,0,0,1,.3-.591L25.8,29.7a.33.33,0,0,1-.148.626Z",transform:"translate(-15.525 -19.308)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_807","data-name":"Path 807",d:"M25.65,26.322a.331.331,0,0,1-.147-.035l-1.322-.661a.331.331,0,0,1,.3-.591L25.8,25.7a.33.33,0,0,1-.148.626Z",transform:"translate(-15.525 -16.717)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_808","data-name":"Path 808",d:"M25.65,22.322a.331.331,0,0,1-.147-.035l-1.322-.661a.331.331,0,0,1,.3-.591L25.8,21.7a.33.33,0,0,1-.148.626Z",transform:"translate(-15.525 -14.127)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_809","data-name":"Path 809",d:"M25.65,18.322a.331.331,0,0,1-.147-.035l-1.322-.661a.331.331,0,0,1,.3-.591L25.8,17.7a.33.33,0,0,1-.148.626Z",transform:"translate(-15.525 -11.535)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_810","data-name":"Path 810",d:"M25.65,14.322a.331.331,0,0,1-.147-.035l-1.322-.661a.331.331,0,0,1,.3-.591L25.8,13.7a.33.33,0,0,1-.148.626Z",transform:"translate(-15.525 -8.945)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_811","data-name":"Path 811",d:"M34.331,38.321a.331.331,0,0,1-.148-.626l1.322-.661a.331.331,0,1,1,.3.591l-1.322.661A.327.327,0,0,1,34.331,38.321Z",transform:"translate(-21.996 -24.488)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_812","data-name":"Path 812",d:"M34.331,34.321a.331.331,0,0,1-.148-.626l1.322-.661a.331.331,0,1,1,.3.591l-1.322.661A.327.327,0,0,1,34.331,34.321Z",transform:"translate(-21.996 -21.898)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_813","data-name":"Path 813",d:"M34.331,30.321a.331.331,0,0,1-.148-.626l1.322-.661a.331.331,0,0,1,.3.591l-1.322.661A.327.327,0,0,1,34.331,30.321Z",transform:"translate(-21.996 -19.308)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_814","data-name":"Path 814",d:"M34.331,26.321a.331.331,0,0,1-.148-.626l1.322-.661a.331.331,0,1,1,.3.591l-1.322.661A.327.327,0,0,1,34.331,26.321Z",transform:"translate(-21.996 -16.715)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_815","data-name":"Path 815",d:"M34.331,22.321a.331.331,0,0,1-.148-.626l1.322-.661a.331.331,0,1,1,.3.591l-1.322.661A.327.327,0,0,1,34.331,22.321Z",transform:"translate(-21.996 -14.125)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_816","data-name":"Path 816",d:"M34.331,18.321a.331.331,0,0,1-.148-.626l1.322-.661a.331.331,0,1,1,.3.591l-1.322.661A.327.327,0,0,1,34.331,18.321Z",transform:"translate(-21.996 -11.535)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_817","data-name":"Path 817",d:"M34.331,14.321a.331.331,0,0,1-.148-.626l1.322-.661a.331.331,0,1,1,.3.591l-1.322.661A.327.327,0,0,1,34.331,14.321Z",transform:"translate(-21.996 -8.945)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_818","data-name":"Path 818",d:"M46.322,30.463A1.323,1.323,0,0,1,45,29.141c0-.377.381-2.645,1.322-2.645s1.322,2.268,1.322,2.645A1.323,1.323,0,0,1,46.322,30.463Zm0-3.3a3.949,3.949,0,0,0-.661,1.977.661.661,0,1,0,1.322,0A3.949,3.949,0,0,0,46.322,27.164Z",transform:"translate(-29.076 -17.597)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_819","data-name":"Path 819",d:"M48.33,36.473a.33.33,0,0,1-.33-.33V33.83a.33.33,0,0,1,.661,0v2.312A.33.33,0,0,1,48.33,36.473Z",transform:"translate(-31.123 -22.155)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_820","data-name":"Path 820",d:"M12.322,30.463A1.323,1.323,0,0,1,11,29.141c0-.377.381-2.645,1.322-2.645s1.322,2.268,1.322,2.645A1.323,1.323,0,0,1,12.322,30.463Zm0-3.3a3.949,3.949,0,0,0-.661,1.977.661.661,0,1,0,1.322,0A3.949,3.949,0,0,0,12.322,27.164Z",transform:"translate(-7.107 -17.597)",fill:null!==t&&void 0!==t?t:"#ddd"}),(0,m.jsx)("path",{id:"Path_821","data-name":"Path 821",d:"M14.33,36.473a.33.33,0,0,1-.33-.33V33.83a.33.33,0,0,1,.661,0v2.312A.33.33,0,0,1,14.33,36.473Z",transform:"translate(-9.077 -22.155)",fill:null!==t&&void 0!==t?t:"#ddd"})]})}))},D=function(e){var t,n,a,i,l,r,o,d,u,c,v=e.onChange,h=e.data,p=e.errors,x=(0,s.$)().t,g=function(e){v&&null!==e&&void 0!==e&&e.target&&v((0,A.Z)({},e.target.name,e.target.value))};return(0,m.jsxs)("div",{className:"sign_form-container",children:[(0,m.jsx)("div",{style:{color:"#E33F1A",fontSize:12},children:x("required-info")}),(0,m.jsx)(f.Z,{containerClassName:"input-compact",required:!0,type:"text",name:"corporateName",title:x("corporate-name"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.corporateName)&&""!==p.corporateName,errorMsg:null===p||void 0===p?void 0:p.corporateName,value:null!==(t=null===h||void 0===h?void 0:h.corporateName)&&void 0!==t?t:""}),(0,m.jsx)(f.Z,{type:"text",name:"picture",title:x("logo"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.picture)&&""!==p.picture,errorMsg:null===p||void 0===p?void 0:p.picture,value:null!==(n=null===h||void 0===h?void 0:h.picture)&&void 0!==n?n:"",icon:null!==h&&void 0!==h&&h.picture?(0,m.jsx)("img",{src:null===h||void 0===h?void 0:h.picture,alt:null!==(a=null===h||void 0===h?void 0:h.corporateName)&&void 0!==a?a:"",style:{width:35,height:35,objectFit:"cover",objectPosition:"center",borderRadius:"50%",marginRight:10}}):(0,m.jsx)(O,{style:{position:"absolute",transform:"scale(5)",top:35,left:10}})}),(0,m.jsx)(f.Z,{type:"text",name:"sector",title:x("activity-sector-code"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.sector)&&""!==p.sector,errorMsg:null===p||void 0===p?void 0:p.sector,value:null!==(i=null===h||void 0===h?void 0:h.sector)&&void 0!==i?i:""}),(0,m.jsx)(f.Z,{type:"text",name:"legalStructure",title:x("legal-structure"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.legalStructure)&&""!==p.legalStructure,errorMsg:null===p||void 0===p?void 0:p.legalStructure,value:null!==(l=null===h||void 0===h?void 0:h.legalStructure)&&void 0!==l?l:""}),(0,m.jsx)(f.Z,{type:"text",name:"address",title:x("street-address-n-number"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.address)&&""!==p.address,errorMsg:null===p||void 0===p?void 0:p.address,value:null!==(r=null===h||void 0===h?void 0:h.address)&&void 0!==r?r:""}),(0,m.jsx)(f.Z,{type:"text",name:"postalCode",title:x("postal-code"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.postalCode)&&""!==p.postalCode,errorMsg:null===p||void 0===p?void 0:p.postalCode,value:null!==(o=null===h||void 0===h?void 0:h.postalCode)&&void 0!==o?o:""}),(0,m.jsx)(f.Z,{type:"text",name:"town",title:x("city"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.town)&&""!==p.town,errorMsg:null===p||void 0===p?void 0:p.town,value:null!==(d=null===h||void 0===h?void 0:h.town)&&void 0!==d?d:""}),(0,m.jsx)(f.Z,{type:"text",name:"region",title:x("region"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.region)&&""!==p.region,errorMsg:null===p||void 0===p?void 0:p.region,value:null!==(u=null===h||void 0===h?void 0:h.region)&&void 0!==u?u:""}),(0,m.jsx)(f.Z,{type:"text",name:"country",title:x("country"),onChange:g,hasError:"string"===typeof(null===p||void 0===p?void 0:p.country)&&""!==p.country,errorMsg:null===p||void 0===p?void 0:p.country,value:null!==(c=null===h||void 0===h?void 0:h.country)&&void 0!==c?c:""})]})},R=function(e){var t,n,l,d=e.data,u=(0,s.$)().t,v=(0,i.s0)(),h=(0,a.useState)(""),p=(0,r.Z)(h,2),x=p[0],g=p[1];return(0,m.jsxs)("div",{children:[null!==d&&void 0!==d&&d.selectedOrg?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("p",{style:{textDecoration:"underline",margin:"30px 15px"},children:[u("your-organisation")," :"]}),(0,m.jsxs)("div",{className:"select-org-card",children:[(0,m.jsx)("div",{style:{flex:"1 100px"},children:(0,m.jsx)("img",{alt:null!==(t=d.selectedOrg.name)&&void 0!==t?t:"",src:null!==(n=d.selectedOrg.picture)&&void 0!==n?n:b.Z,style:{width:"40%",objectFit:"cover",objectPosition:"top"}})}),(0,m.jsxs)("div",{title:d.selectedOrg.address,style:{flex:"1 300px"},children:[(0,m.jsx)("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:null!==(l=d.selectedOrg.corporateName)&&void 0!==l?l:d.selectedOrg.name}),d.selectedOrg.code?(0,m.jsx)("div",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:d.selectedOrg.code}):null]})]})]}):null,null!==d&&void 0!==d&&d.email?(0,m.jsxs)("p",{style:{textDecoration:"underline",margin:"30px 15px"},children:[u("your-email")," : ",d.email," "]}):null,x?(0,m.jsx)("p",{style:{color:"#E33F1A",fontSize:12,textAlign:"center"},children:x}):null,(0,m.jsx)(f.Z,{type:"submit",iconName:o.yOZ,title:u("try-app"),onClick:function(){var e;null!==d&&void 0!==d&&null!==(e=d.selectedOrg)&&void 0!==e&&e.id&&d.email?v(c.H.DASHBOARD):g(u("cant-join-rather-connect"))}})]})},q=function(){var e=(0,s.$)().t,t=(0,a.useState)(""),n=(0,r.Z)(t,2),x=n[0],g=n[1],Z=(0,a.useState)(""),j=(0,r.Z)(Z,2),y=j[0],w=j[1],P=(0,a.useState)(!1),b=(0,r.Z)(P,2),N=b[0],k=b[1],C=(0,a.useState)(!1),_=(0,r.Z)(C,2),M=_[0],A=_[1],E=(0,a.useState)(),O=(0,r.Z)(E,2),q=O[0],F=O[1],H=(0,a.useState)(e("invalid-email")),L=(0,r.Z)(H,2),B=L[0],T=(L[1],(0,a.useState)(e("invalid-password"))),V=(0,r.Z)(T,2),z=V[0],I=(V[1],(0,a.useState)("")),$=(0,r.Z)(I,2),U=$[0],G=$[1],K=(0,a.useState)(),X=(0,r.Z)(K,2),Y=X[0],W=X[1],J=(0,a.useState)({}),Q=(0,r.Z)(J,2),ee=Q[0],te=Q[1],ne=(0,u.I0)(),ae=(0,d.lr)(),ie=(0,r.Z)(ae,2),le=ie[0],re=ie[1],oe=(0,i.s0)(),se=le.get("step"),de=(0,u.v9)((function(e){return e.user})),ue=(0,a.useState)(!1),ce=(0,r.Z)(ue,2),ve=ce[0],he=ce[1];(0,a.useEffect)((function(){de&&re({step:"select_org"})}),[de]);var fe=function(){oe(c.H.DASHBOARD)};switch(se){case"create_org":return(0,m.jsxs)("div",{className:"auth-content-cc",children:[(0,m.jsx)(D,{onChange:function(e){W((function(t){return(0,l.Z)((0,l.Z)({},t),e)}))},data:Y,errors:ee}),(0,m.jsx)(f.Z,{type:"submit",title:e("create-my-organisation"),onClick:function(){var t;null!==Y&&void 0!==Y&&null!==(t=Y.corporateName)&&void 0!==t&&t.trim()?ne((0,v.wk)((0,l.Z)((0,l.Z)({},Y),{},{name:Y.corporateName}))).unwrap().then((function(e){e&&oe(c.H.DASHBOARD)})):te((function(t){return(0,l.Z)((0,l.Z)({},t),{},{corporateName:e("corporate-name-error")})}))},iconName:o.yOZ})]});case"select_org":return(0,m.jsx)("div",{className:"auth-content-cc-cc",children:(0,m.jsx)(S,{selectedOrg:q,setSelectedOrg:F,onSubmitOrg:fe})});case"5":return(0,m.jsx)("div",{className:"auth-content-cc",children:(0,m.jsx)(R,{onNext:fe,data:{email:null===de||void 0===de?void 0:de.email,selectedOrg:q}})});default:return(0,m.jsxs)("div",{className:"auth-content-cc",children:[(0,m.jsx)(f.Z,{type:"text",title:e("email"),onChange:function(e){var t;return g(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},hasError:N,errorMsg:B}),(0,m.jsx)(f.Z,{type:ve?"text":"password",title:e("password"),doThings:w,hasError:M,errorMsg:z,icon:(0,m.jsx)(p,{onClick:function(){return he((function(e){return!e}))},show:ve})}),U&&(0,m.jsx)("span",{className:"errorMsg",children:U}),(0,m.jsx)(f.Z,{type:"submit",title:e("continue"),doThings:function(){(function(){var e=new RegExp("[a-z0-9]+@[a-z]+.[a-z]{2,3}"),t=new RegExp("(?=.{8,})(?=.*[^A-Za-z0-9])");return!(!e.test(x)||!t.test(y))||(e.test(x)||k(!0),t.test(y)||A(!0),!1)})()&&ne((0,h.ty)([{username:x,password:y},,function(){return G(e("invalid-login"))}])).unwrap().catch((function(t){G(e("invalid-login"))}))},iconName:o.yOZ})]})}},F=n(7757),H=n.n(F),L=n(1105),B=n(215),T=n(5850),V=n(3919),z=n(5791),I=n(5530),$=["inputRef","referenceElementRef"],U=function(e){e.onChange,e.data,e.errors;var t=(0,s.$)().t,n=(0,a.useState)(""),i=(0,r.Z)(n,2),o=i[0],d=i[1],u=(0,a.useState)([]),c=(0,r.Z)(u,2),v=c[0],h=c[1],p=(0,a.useState)(!1),x=(0,r.Z)(p,2),g=x[0],Z=x[1],j=(0,a.useState)({}),w=(0,r.Z)(j,2),P=w[0],b=w[1],N=(0,a.useState)(""),C=(0,r.Z)(N,2),_=C[0],M=C[1],S=(0,a.useState)({}),E=(0,r.Z)(S,2),O=E[0],D=E[1],R=(0,a.useState)(),q=(0,r.Z)(R,2),F=q[0],H=q[1],L=(0,a.useCallback)((function(e){Z(!0),function(e){return(0,k.ZP)("/public/rome/search?q=".concat(e)).then((function(e){var t;return null===e||void 0===e||null===(t=e.content)||void 0===t?void 0:t.content}))}(e).then((function(e){Z(!1),h(e)}))}),[]),B=function(e){var t;(null!==e&&void 0!==e&&e.key&&"enter"===(null===e||void 0===e||null===(t=e.key)||void 0===t?void 0:t.toLowerCase())||null===e||void 0===e||!e.key)&&D((function(e){return d(""),(0,l.Z)((0,l.Z)({},e),F?(0,A.Z)({},F.appellation,F):{})}))},T=(0,a.useMemo)((function(){return Object.values(O)}),[O]),U=(0,a.useMemo)((function(){return Object.values(P)}),[P]),G=function(e){D((function(t){var n=(0,l.Z)({},t);return delete n[e],n}))},K=function(e){var t;(null!==e&&void 0!==e&&e.key&&"enter"===(null===e||void 0===e||null===(t=e.key)||void 0===t?void 0:t.toLowerCase())||null===e||void 0===e||!e.key)&&(_&&b((function(e){return(0,l.Z)((0,l.Z)({},e),{},(0,A.Z)({},_.toLowerCase(),_))})),M(""))},X=function(e){b((function(t){var n=(0,l.Z)({},t);return delete n[null===e||void 0===e?void 0:e.toLowerCase()],n}))};return(0,m.jsxs)("div",{className:"sign_form-container",children:[(0,m.jsx)(V.Wf,{id:"competence-search",className:"auth-input-typeahead",onInputChange:function(e){d(e)},onChange:function(e){Array.isArray(e)&&e.length&&(H(e[0]),d(e[0].appellation))},onSearch:L,options:v,labelKey:function(e){return"".concat(e.appellation," (").concat(e.codeRome,")")},minLength:1,isLoading:g,useCache:!1,renderMenuItemChildren:function(e){return(0,m.jsx)("span",{children:"".concat(e.appellation," (").concat(e.codeRome,")")})},renderInput:function(e){var n=e.inputRef,a=e.referenceElementRef,i=(0,y.Z)(e,$);return(0,m.jsx)(f.Z,(0,l.Z)((0,l.Z)({},i),{},{ref:function(e){n(e),a(e)},title:t("add-profession"),icon:(0,m.jsx)(I.Z,{background:"#959595",style:{marginRight:5},onClick:B}),onKeyDown:B,value:o}))}}),T.length>0?(0,m.jsx)("div",{style:{marginTop:15,display:"flex",flexWrap:"wrap"},children:T.map((function(e){return(0,m.jsx)(z.Z,{background:"#fff",value:e.appellation,onDismiss:G},e.appellation)}))}):null,(0,m.jsx)(f.Z,{type:"textarea",title:t("add-skills"),value:_,onChange:function(e){var t;return M(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},icon:(0,m.jsx)(I.Z,{onClick:K,background:"#959595",style:{marginRight:5}}),onKeyDown:K}),U.length>0?(0,m.jsx)("div",{style:{marginTop:15,display:"flex",flexWrap:"wrap"},children:U.map((function(e){return(0,m.jsx)(z.Z,{background:"#fff",value:e,onDismiss:X},e)}))}):null]})},G=["fill","background"],K=function(e){var t=e.fill,n=e.background,a=(0,y.Z)(e,G);return(0,m.jsxs)("svg",(0,l.Z)((0,l.Z)({},a),{},{"data-name":"001-linkedin",xmlns:"http://www.w3.org/2000/svg",width:"23.998",height:"23.998",viewBox:"0 0 23.998 23.998",children:[(0,m.jsx)("circle",{"data-name":"Ellipse 115",cx:"11.999",cy:"11.999",r:"11.999",fill:null!==n&&void 0!==n?n:"#295EA7"}),(0,m.jsx)("g",{id:"Group_2158","data-name":"Group 2158",transform:"translate(5.79 5.127)",children:(0,m.jsx)("path",{id:"Path_963","data-name":"Path 963",d:"M40.446,31.806v4.947H37.578V32.138c0-1.159-.414-1.95-1.453-1.95a1.569,1.569,0,0,0-1.471,1.049,1.963,1.963,0,0,0-.095.7v4.818H31.691s.038-7.817,0-8.626H34.56v1.222c-.006.01-.014.019-.019.028h.019v-.028a2.848,2.848,0,0,1,2.585-1.425c1.887,0,3.3,1.233,3.3,3.882ZM28.691,23.969a1.495,1.495,0,1,0-.038,2.981h.019a1.5,1.5,0,1,0,.019-2.981ZM27.238,36.753h2.867V28.127H27.238Z",transform:"translate(-27.068 -23.969)",fill:null!==t&&void 0!==t?t:"#eee"})})]}))},X=function(e){var t,n,a,i=e.onChange,l=e.data,r=e.errors,o=(0,s.$)().t,d=function(e){i&&null!==e&&void 0!==e&&e.target&&i((0,A.Z)({},e.target.name,e.target.value))};return(0,m.jsxs)("div",{className:"sign_form-container",children:[(0,m.jsx)("div",{style:{color:"#E33F1A",fontSize:12},children:o("required-info")}),(0,m.jsx)(f.Z,{containerClassName:"input-compact",required:!0,type:"text",name:"phone",title:o("phone"),onChange:d,hasError:"string"===typeof(null===r||void 0===r?void 0:r.phone)&&""!==r.phone,errorMsg:null===r||void 0===r?void 0:r.phone,value:null!==(t=null===l||void 0===l?void 0:l.phone)&&void 0!==t?t:""}),(0,m.jsx)(f.Z,{type:"text",name:"phoneFixed",title:o("fixed-phone"),onChange:d,hasError:"string"===typeof(null===r||void 0===r?void 0:r.phoneFixed)&&""!==r.phoneFixed,errorMsg:null===r||void 0===r?void 0:r.phoneFixed,value:null!==(n=null===l||void 0===l?void 0:l.phoneFixed)&&void 0!==n?n:""}),(0,m.jsx)(f.Z,{type:"text",name:"portfolioUrl",title:o("linkedin-link"),onChange:d,hasError:"string"===typeof(null===r||void 0===r?void 0:r.portfolioUrl)&&""!==r.portfolioUrl,errorMsg:null===r||void 0===r?void 0:r.portfolioUrl,value:null!==(a=null===l||void 0===l?void 0:l.portfolioUrl)&&void 0!==a?a:"",icon:(0,m.jsx)(K,{style:{marginRight:10}})})]})},Y=function(e){var t=e.onNext,n=e.data,i=e.errors,l=(0,s.$)().t,d=(0,a.useState)(""),u=(0,r.Z)(d,2),c=u[0],v=u[1],h=(0,a.useState)(""),x=(0,r.Z)(h,2),g=x[0],Z=x[1],j=(0,a.useState)(""),y=(0,r.Z)(j,2),w=y[0],P=y[1],b=(0,a.useState)(""),N=(0,r.Z)(b,2),k=N[0],C=N[1],_=(0,a.useState)(""),M=(0,r.Z)(_,2),S=M[0],A=M[1],E=(0,a.useState)(!1),O=(0,r.Z)(E,2),D=O[0],R=O[1],q=(0,a.useState)(!1),F=(0,r.Z)(q,2),H=F[0],L=F[1];(0,a.useEffect)((function(){var e,t,a,i,l;v(null!==(e=null===n||void 0===n?void 0:n.firstName)&&void 0!==e?e:""),Z(null!==(t=null===n||void 0===n?void 0:n.lastName)&&void 0!==t?t:""),P(null!==(a=null===n||void 0===n?void 0:n.email)&&void 0!==a?a:""),C(null!==(i=null===n||void 0===n?void 0:n.password)&&void 0!==i?i:""),A(null!==(l=null===n||void 0===n?void 0:n.checkPassword)&&void 0!==l?l:"")}),[]);return(0,m.jsxs)("form",{id:"register",className:"sign_form-container",children:[(0,m.jsx)("div",{style:{color:"#E33F1A",fontSize:12},children:l("required-info")}),(0,m.jsx)(f.Z,{containerClassName:"input-compact",required:!0,type:"text",name:"firstName",title:l("first-name"),onChange:function(e){return v(e.target.value)},hasError:"string"===typeof(null===i||void 0===i?void 0:i.firstName)&&""!==i.firstName,errorMsg:null===i||void 0===i?void 0:i.firstName,value:c}),(0,m.jsx)(f.Z,{required:!0,type:"text",name:"lastName",title:l("last-name"),onChange:function(e){return Z(e.target.value)},hasError:"string"===typeof(null===i||void 0===i?void 0:i.lastName)&&""!==i.lastName,errorMsg:null===i||void 0===i?void 0:i.lastName,value:g}),(0,m.jsx)(f.Z,{required:!0,type:"email",name:"email",title:l("email"),onChange:function(e){return P(e.target.value)},hasError:"string"===typeof(null===i||void 0===i?void 0:i.email)&&""!==i.email,errorMsg:null===i||void 0===i?void 0:i.email,value:w}),(0,m.jsx)(f.Z,{required:!0,type:D?"text":"password",name:"password",title:l("password"),onChange:function(e){return C(e.target.value)},hasError:"string"===typeof(null===i||void 0===i?void 0:i.password)&&""!==i.password,errorMsg:null===i||void 0===i?void 0:i.password,value:k,icon:(0,m.jsx)(p,{onClick:function(){return R((function(e){return!e}))},show:D})}),(0,m.jsx)(f.Z,{required:!0,type:H?"text":"password",name:"checkPassword",title:l("confirmation"),onChange:function(e){return A(e.target.value)},hasError:k!==S||"string"===typeof(null===i||void 0===i?void 0:i.checkPassword)&&""!==i.checkPassword,errorMsg:k!==S?l("password-check-failed"):null===i||void 0===i?void 0:i.checkPassword,value:S,icon:(0,m.jsx)(p,{onClick:function(){return L((function(e){return!e}))},show:H})}),(0,m.jsx)(f.Z,{type:"submit",title:l("continue"),onSubmit:function(e){return null===e||void 0===e?void 0:e.preventDefault()},onClick:function(e){null===e||void 0===e||e.preventDefault(),t&&t({firstName:c,lastName:g,email:w,password:k,checkPassword:S})},iconName:o.yOZ}),(0,m.jsxs)("div",{className:"check-cgu",children:[(0,m.jsx)("div",{className:"check-cgu-line",children:(0,m.jsxs)("label",{children:[(0,m.jsx)("input",{name:"condition_utilisation",type:"radio",className:"form-check-input"})," ",l("by-clicking-you-accept")," ",(0,m.jsx)("a",{href:"#",style:{color:"inherit"},children:l("usage-conditions")})," ",l("of")," ",l("app-name")]})}),(0,m.jsx)("div",{className:"check-cgu-line",children:(0,m.jsxs)("label",{children:[(0,m.jsx)("input",{name:"condition_utilisation",type:"radio",className:"form-check-input"})," ",l("by-clicking-you-accept")," ",(0,m.jsx)("a",{href:"#",style:{color:"inherit"},children:l("privacy-policy")})," ",l("of")," ",l("app-name")]})})]})]})},W=function(e){var t=e.onNext,n=e.data,i=e.onComplete,l=(0,s.$)().t,d=(0,a.useState)(""),u=(0,r.Z)(d,2),c=u[0],v=u[1],h=(0,a.useState)([]),p=(0,r.Z)(h,2),Z=p[0],y=p[1],w=(0,a.useState)({}),b=(0,r.Z)(w,2),k=b[0],C=b[1],S=(0,a.useState)(""),A=(0,r.Z)(S,2),E=A[0],O=A[1],D=(0,a.useState)(!1),R=(0,r.Z)(D,2),q=R[0],F=R[1],H=(0,a.useRef)(),L=function(e){var t;null===e||void 0===e||e.stopPropagation(),e&&clearTimeout(H.current),(null!==e&&void 0!==e&&e.key&&"enter"===(null===e||void 0===e||null===(t=e.key)||void 0===t?void 0:t.toLowerCase())||null===e||void 0===e||!e.key)&&c&&(F(!0),_(c).then((function(e){F(!1),y(e)})))};return(0,m.jsxs)("div",{children:[(0,m.jsx)(f.Z,{type:"text",title:l("find-your-organisation"),onChange:function(e){var t;null===e||void 0===e||e.stopPropagation(),v(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value),clearTimeout(H.current),H.current=setTimeout(L,1e3)},onKeyDown:L,icon:q?(0,m.jsx)(g.Z,{animation:"border",style:{marginRight:15},variant:"secondary"}):(0,m.jsx)(P,{background:"#959595",style:{transform:"scale(1.4)",marginRight:15},onClick:L})}),Z.length>0?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{style:{maxHeight:500,overflowY:"auto",padding:"0 20px"},children:[(0,m.jsxs)("p",{style:{textDecoration:"underline",margin:"30px 15px"},children:[l("organisation-found")," :"]}),Z.map((function(e){return(0,m.jsx)(N,{org:e,selected:null===k||void 0===k?void 0:k.id,onClick:function(){return function(e){C(e),O("")}(e)}},e.id)}))]}),E?(0,m.jsx)("p",{style:{color:"#E33F1A",fontSize:12,textAlign:"center"},children:E}):null,(0,m.jsx)(f.Z,{type:"submit",iconName:o.yOZ,title:l("request-access"),onClick:function(){k.id?null!==n&&void 0!==n&&n.email?M(k.id,null===n||void 0===n?void 0:n.email).then((function(e){var n;Array.isArray(null===e||void 0===e?void 0:e.errors)&&(null===e||void 0===e||null===(n=e.errors)||void 0===n?void 0:n.length)>0?O(l("request-not-sent")):t&&t({selectedOrg:k})})).catch((function(e){O(l("request-not-sent"))})):O(l("cant-join-rather-connect")):O(l("select-org-error"))}})]}):null,(0,m.jsx)(j.Z,{onClick:function(){i&&i({})},style:{border:"1px solid #959595",background:"#EBEBEB"},round:!0,icon:(0,m.jsx)(x.G,{icon:o.yOZ}),children:l("skip-step")})]})},J={login:q,register:function(){var e=(0,d.lr)(),t=(0,r.Z)(e,2),n=t[0],s=t[1],v=(0,a.useState)({}),h=(0,r.Z)(v,2),p=h[0],x=h[1],g=(0,a.useState)({}),Z=(0,r.Z)(g,2),j=Z[0],y=Z[1],w=(0,u.I0)(),P=(0,i.s0)(),b=n.get("step"),N=(0,a.useMemo)((function(){return H().mark((function e(){var t,n;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Number(b),n=t>0?t:1;case 2:return n>5&&(n=1),e.next=6,(++n).toString();case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)}))()}),[b]),k=function(e){x((function(t){return(0,l.Z)((0,l.Z)({},t),e)}))},C=function(e){var t=!0;return null!==e&&void 0!==e&&e.password||(y((function(e){return(0,l.Z)((0,l.Z)({},e),{},{password:"".concat((0,L.t)("password")," ").concat((0,L.t)("is-obligatory"))})})),t=!1),null!==e&&void 0!==e&&e.email||(y((function(e){return(0,l.Z)((0,l.Z)({},e),{},{email:"".concat((0,L.t)("email")," ").concat((0,L.t)("is-obligatory"))})})),t=!1),null!==e&&void 0!==e&&e.checkPassword||(y((function(e){return(0,l.Z)((0,l.Z)({},e),{},{checkPassord:"".concat((0,L.t)("confirmation")," ").concat((0,L.t)("is-obligatory"))})})),t=!1),null!==e&&void 0!==e&&e.firstName||(y((function(e){return(0,l.Z)((0,l.Z)({},e),{},{firstName:"".concat((0,L.t)("first-name")," ").concat((0,L.t)("is-obligatory"))})})),t=!1),null!==e&&void 0!==e&&e.lastName||(y((function(e){return(0,l.Z)((0,l.Z)({},e),{},{lastName:"".concat((0,L.t)("last-name")," ").concat((0,L.t)("is-obligatory"))})})),t=!1),null!==e&&void 0!==e&&e.email&&!T.sC.isEmail(null===e||void 0===e?void 0:e.email)&&(y((function(e){return(0,l.Z)((0,l.Z)({},e),{},{email:(0,L.t)("invalid-email")})})),t=!1),e.password&&!T.sC.isValidPassword(null===e||void 0===e?void 0:e.password)&&(y((function(e){return(0,l.Z)((0,l.Z)({},e),{},{password:(0,L.t)("invalid-password")})})),t=!1),t},_=function(e){k(e),C(e)&&(y({}),s({step:N.next().value}))},M=function(e){k(e),C(p)&&s({step:N.next().value})};switch(b){case"5":return(0,m.jsx)("div",{className:"auth-content-cc",children:(0,m.jsx)(R,{onNext:M,data:p,errors:j})});case"4":return(0,m.jsx)("div",{className:"auth-content-cc",children:(0,m.jsx)(W,{onComplete:function(){C(p)?P(c.H.DASHBOARD):s({step:"1"})},onNext:M,data:p,errors:j})});case"3":return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"auth-content-cc",children:(0,m.jsx)(U,{onNext:_,data:p,errors:j})}),(0,m.jsxs)("div",{className:"auth-content-cc-cc",children:[(0,m.jsx)("h5",{className:"auth-select-user-type__heading",children:(0,L.t)("choose_organisation")}),(0,m.jsxs)("div",{className:"auth-select-user-type",children:[(0,m.jsx)(f.Z,{type:"submit",iconName:o.yOZ,title:(0,L.t)("join_organisation"),onClick:function(){return s({step:N.next().value})}}),(0,m.jsx)(f.Z,{containerClassName:"disabled",type:"submit",iconName:o.yOZ,title:(0,L.t)("create_organisation"),disabled:!0})]})]})]});case"2":return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"auth-content-cc",children:(0,m.jsx)(X,{onChange:k,data:p,errors:j})}),(0,m.jsxs)("div",{className:"auth-content-cc-cc",children:[(0,m.jsx)("h5",{className:"auth-select-user-type__heading",children:(0,L.t)("select-user-type")}),(0,m.jsxs)("div",{className:"auth-select-user-type",children:[(0,m.jsx)(f.Z,{type:"submit",containerClassName:"disabled",iconName:o.yOZ,title:(0,L.t)("iam-individual"),disabled:!0}),(0,m.jsx)(f.Z,{type:"submit",iconName:o.yOZ,title:(0,L.t)("iam-professional"),onClick:function(){C(p)?p.phone?w((0,B.r4)(p)).unwrap().then((function(e){null!==e&&void 0!==e&&e.errors&&(null===e||void 0===e?void 0:e.errors.length)>0?(e.errors.forEach((function(e){e.field&&y((function(t){return(0,l.Z)((0,l.Z)({},t),{},(0,A.Z)({},e.field,"".concat((0,L.t)(e.field)," ").concat((0,L.t)("is-obligatory"))))})),e.message&&("email_is_already_taken"===e.message&&y((function(e){return(0,l.Z)((0,l.Z)({},e),{},{email:(0,L.t)("email_is_already_taken")})})),"phone_is_already_taken"===e.message&&y((function(e){return(0,l.Z)((0,l.Z)({},e),{},{email:(0,L.t)("phone_is_already_taken")})})))})),s({step:"1"})):s({step:N.next().value})})).catch((function(e){console.log({error:e})})):y((function(e){return(0,l.Z)((0,l.Z)({},e),{},{phone:"".concat((0,L.t)("phone")," ").concat((0,L.t)("is-obligatory"))})})):s({step:"1"})}})]})]})]});default:return(0,m.jsx)("div",{className:"auth-content-cc",children:(0,m.jsx)(Y,{onNext:_,data:p,errors:j})})}}},Q=function(){var e=(0,i.UO)().screen,t=(0,a.useMemo)((function(){var t;return null!==(t=J[e])&&void 0!==t?t:J.login}),[e]);return(0,m.jsx)(t,{})}},5791:function(e,t,n){var a=n(184);t.Z=function(e){var t=e.value,n=e.onDismiss,i=e.background;return(0,a.jsxs)("div",{title:t,style:{margin:3,borderRadius:10,display:"flex",justifyContent:"space-around",alignItems:"center",background:null!==i&&void 0!==i?i:"#eee",color:"#303643"},children:[(0,a.jsx)("div",{style:{flex:2,margin:"5px 10px",maxWidth:150,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t}),(0,a.jsx)("button",{style:{border:"none",outline:"none",width:25,height:25,borderRadius:"50%",background:"#303643",color:"#eee",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 5px"},onClick:function(){return n(t)},children:(0,a.jsx)("span",{style:{transform:"translateY(-10%)"},children:"x"})})]})}},5530:function(e,t,n){var a=n(1413),i=n(5987),l=n(184),r=["fill","background","style"];t.Z=function(e){var t=e.fill,n=e.background,o=e.style,s=(0,i.Z)(e,r);return(0,l.jsxs)("svg",(0,a.Z)((0,a.Z)({},s),{},{tabIndex:0,role:"button",style:(0,a.Z)((0,a.Z)({},{height:"1.5em",width:"1.5em",transform:"translateX(-15%)",cursor:"pointer",border:"none",outline:"none"}),null!==o&&void 0!==o?o:{}),viewBox:"0 0 100 100",fill:null!==n&&void 0!==n?n:"#F3BE3D",children:[(0,l.jsx)("circle",{cx:50,cy:50,r:50}),(0,l.jsx)("text",{textAnchor:"middle",x:50,y:75,fill:null!==t&&void 0!==t?t:"#fff",fontSize:100,children:"+"})]}))}},6618:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(1413),i=n(5987),l=n(2791),r=n(4483),o=n(184),s=["type","title","iconName","doThings","hasError","errorMsg","createForm","id","light","containerClassName","icon","iconPlacement","required"],d=(0,l.forwardRef)((function(e,t){var n=e.type,l=e.title,d=e.iconName,u=e.doThings,c=e.hasError,v=e.errorMsg,h=e.createForm,f=e.id,m=e.light,p=e.containerClassName,x=e.icon,g=e.iconPlacement,Z=e.required,j=(0,i.Z)(e,s);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{style:{position:"relative"},className:"sign_input-container ".concat("card-header"===n?"card-h":""," ").concat(null!==p&&void 0!==p?p:""),children:[Z&&(0,o.jsx)("span",{className:"required",children:"*"}),function(){var e=u?{onChange:function(e){u(e.target.value),h&&h(e)}}:{},i=(0,a.Z)((0,a.Z)({},j),{},{ref:t});switch(n){case"phone":return(0,o.jsx)("input",(0,a.Z)((0,a.Z)((0,a.Z)({type:"tel",id:f,required:null===Z||void 0===Z||Z},e),i),{},{ref:t}));case"submit":case"button":var s=u?{onClick:function(){return u()}}:{};return(0,o.jsxs)("button",(0,a.Z)((0,a.Z)((0,a.Z)({type:n,className:m?"submit light":"submit"},s),i),{},{children:[l,d?(0,o.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",flex:1},children:(0,o.jsx)(r.G,{icon:d,className:m?"icon light":"icon"})}):null]}));case"card-header":return(0,o.jsx)("input",(0,a.Z)({id:f,type:"text",required:!0},i));default:return(0,o.jsx)("input",(0,a.Z)((0,a.Z)({type:n,id:f,required:null===Z||void 0===Z||Z},e),i))}}(),x?(0,o.jsx)("div",{style:(0,a.Z)((0,a.Z)({},{display:"flex",justifyContent:"flex-end",flex:1,position:"absolute",zIndex:99}),"left"===g?{left:0}:{right:0}),children:x}):null,"submit"!==n&&"button"!==n?(0,o.jsx)("span",{children:l}):null]}),c&&(0,o.jsx)("p",{className:"errorMsg",children:v})]})}))}}]);
//# sourceMappingURL=111.cc654620.chunk.js.map